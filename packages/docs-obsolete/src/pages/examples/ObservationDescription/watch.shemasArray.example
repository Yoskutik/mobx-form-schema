import { FormSchema, watch } from '@yoskutik/mobx-form-schema';

export class NestedSchema extends FormSchema {
  @watch field = 0;
}

export class SuperSchema extends FormSchema {
  @watch.schema nested = [NestedSchema.create(), NestedSchema.create()];
}

const schema = SuperSchema.create();

console.log(schema.isChanged); // false

schema.nested[0].field++;
console.log(schema.isChanged); // true

schema.nested[0].field--;
console.log(schema.isChanged); // false

// The array is new, but its content the same as in initial one
schema.nested = [NestedSchema.create(), NestedSchema.create()];
console.log(schema.isChanged); // false