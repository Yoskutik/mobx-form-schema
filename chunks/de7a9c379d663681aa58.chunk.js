"use strict";(self.webpackChunk_yoskutik_react_vvm_docs=self.webpackChunk_yoskutik_react_vvm_docs||[]).push([[632],{4632:function(e,t,n){n.r(t),n.d(t,{default:function(){return tF}});var a,s,o,r,i=n(2322),l=n(2784),c=n(3422),m=n(3853),d=n(8434),h=n(6027),f=n(7764),u=n(9730);let p=(0,f.ZP)(c.Z)`
  background-color: rgba(0, 0, 0, 0.03);
  justify-content: center;
  padding: 32px 0;
  display: flex;
`,x=({title:e,titleActions:t,children:n})=>(0,i.jsx)(u.de,Object.assign({sx:{backgroundColor:"rgba(0, 0, 0, 0.03)",p:"32px 0"}},{children:(0,i.jsxs)(h.Z,Object.assign({sx:{maxWidth:"min(1100px, 95vw)",flexDirection:"column",display:"flex",m:"0 auto",p:{xs:2,sm:4,md:6}}},{children:[(0,i.jsxs)(u.dy,Object.assign({flexWrap:"wrap"},{children:[(0,i.jsx)(d.Z,Object.assign({variant:"h2",sx:{mr:3}},{children:e})),t]})),n]}))}));var b=n(75),g=n(124),j=n(799),y=n(5254);let v=(0,f.ZP)("div")`
  padding: 4px 8px;
  border-bottom: 1px solid transparent;
  margin-bottom: -1px;
  margin-right: 4px;
  cursor: pointer;
  color: #fff;
  
  &:hover {
    border-color: rgba(255, 255, 255, 0.5);
    background: rgba(255, 255, 255, 0.05);
  }
  
  &.active {
    background: rgba(255, 255, 255, 0.2);
    border-color: white;
  }
`,S=(0,f.ZP)(c.Z)`
  display: flex;
  padding: 16px 16px 0 16px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE and Edge */
  overflow: auto;

  &::-webkit-scrollbar {
    display: none; /* Chrome, Safari, and Opera */
  }
`,O=(0,f.ZP)(c.Z)`
  box-shadow: rgba(0, 0, 0, 0.1) 0 1px 4px 0;
  border-radius: 8px;
  margin-top: 32px;
  overflow: hidden;
  display: flex;
  
  .right-side {
    border: 1px solid rgba(0, 0, 0, 0.6);
    border-radius: 0 8px 8px 0;
    flex-shrink: 0;
    background: #fff;
    width: 300px;
    padding: 12px;
  }

  @media screen and (max-width: 1024px) {
    flex-direction: column;

    .right-side {
      border-radius: 0 0 8px 8px;
      display: flex;
      width: 100%;

      form {
        width: min(50%, 300px);
        margin-right: 20px;
      }

      & > * {
        overflow: hidden;
      }
    }
  }

  @media screen and (max-width: 464px) {
    flex-direction: column;

    .right-side {
      flex-direction: column;

      form {
        width: 100%;
        margin-right: 0;
      }
    }
  }
`,w=({items:e,children:t})=>{let[n,a]=(0,l.useState)(e[0]),s=e=>t=>{a(e);let n=t.target,s=n.parentElement;s.scroll({left:n.offsetLeft-s.offsetLeft-50,behavior:"smooth"})};return(0,i.jsxs)(O,{children:[(0,i.jsxs)(u.de,Object.assign({sx:{background:"rgb(40, 42, 54)",overflow:"hidden",flex:1}},{children:[(0,i.jsx)(S,{children:e.map(e=>(0,i.jsx)(v,Object.assign({className:e===n?"active":void 0,onClick:s(e)},{children:e.filename}),e.filename))}),(0,i.jsx)(u.oP,{code:n.code,style:{height:400,minHeight:"100%"},sx:{flex:1}})]})),(0,i.jsx)("div",Object.assign({className:"right-side"},{children:t}))]})},F=Object,B=Reflect,k=(e,t)=>B.getMetadata(e,t)||{},R=(e,t)=>F.assign({},k(e,t)),C=(e,t,n)=>B.defineMetadata(e,t,n),P=e=>Symbol(`FormSchema::${e}`),T=P("Factory"),I=P("Watch"),N=P("Validate"),E=P("Presentation"),D=P("InitialValues"),Z=P("Errors"),V=P("ChangedKeys"),A=function(){let e=Array.from(arguments),t=(t,n)=>{let a=R(N,t);a[n]={validators:e},C(N,a,t)};return t.if=e=>(n,a)=>{t(n,a),k(N,n)[a].condition=e},t},H=e=>(e&&e.sync(),e),M=e=>(e&&e.reset(),e),z=(e,t)=>{if(e&&e.isChanged)return!1;if(e===t)return!0;if(e&&t&&e.constructor===t.constructor){let n=k(I,e);for(let a in n){let s=n[a];if(s.comparator?!s.comparator(e[a],t[a]):t[a]!==e[a])return(0,b.z)(()=>e[D]=t[D]),!1}return!0}return!1},L=(e,t)=>t.length===e.length&&e.every((e,n)=>z(e,t[n])),$=(e,t)=>{let n=R(I,e);n[t]={},C(I,n,e)},K=(e,t,n)=>(a,s)=>{let o=R(I,a);o[s]={comparator:e,saveFn:t,restoreFn:n},C(I,o,a)};$.configure=K,$.schema=K(z,H,M),$.schemasArray=K(L,e=>e.map(H),e=>e.map(M)),$.array=K((e,t)=>e===t||e&&t&&e.length===t.length&&e.every((e,n)=>e===t[n]),e=>e.slice(),e=>e.slice()),$.set=K((e,t)=>e===t||e&&t&&e.size===t.size&&Array.from(e).every(e=>t.has(e)),e=>new Set(e),e=>new Set(e));let q=e=>(t,n)=>{let a=R(E,t);a[n]={presentation:e},C(E,a,t)};q.hidden=(e,t)=>{let n=R(E,e);n[t]={hidden:!0},C(E,n,e)};let J=(e,t,n)=>{let{validators:a,condition:s}=t[n];if(s&&!s(e[n],e))return(0,b.z)(()=>delete e[Z][n]),!1;let o=e[n],r=!1;for(let t of a)if(r=t(o,e))break;return(0,b.z)(()=>{"string"==typeof r||!0===r?e[Z][n]=r:delete e[Z][n]}),r},W=(e,t,n)=>{let a=t[n].comparator,s=e[n],o=e[D][n],r=a?a(s,o):o===s;return(0,b.z)(()=>e[V][r?"delete":"add"](n)),r};class Y{static create(e={}){let t=new this(e);(0,b.bi)(t)||(0,b.rC)(t);let n=k(N,t),a=k(T,t),s=k(I,t);for(let n of new Set(F.keys(a).concat(F.keys(e)))){let s=a[n];t[n]=s?s(e[n],e):e[n]}let o={},r={};for(let e in s)if(!(0,b.wn)(t,e)){let{comparator:n}=s[e],a=b.LO;n===z?a=b.LO.ref:n===L&&(a=b.LO.shallow),o[e]=t[e],r[e]=a}for(let e in Object.keys(r).length&&(0,b.dw)(t,o,r),s){let n=s[e];t[D][e]=n.saveFn?n.saveFn(t[e],t):t[e]}if(this.config.manual)return t;for(let e in s){let n;(0,b.N7)(t,e,()=>{n&&n(),n=(0,b.EH)(()=>W(t,s,e))},!0)}for(let e in n)(0,b.EH)(()=>J(t,n,e));return t}get presentation(){let e=k(E,this),t={};for(let n in this){let a=e[n];a&&a.hidden||(t[n]=a&&a.presentation?a.presentation(this[n],this):this[n])}return t}get isChanged(){return this[V].size>0}get isValid(){return F.values(this[Z]).every(e=>!e)}get errors(){return this[Z]}getInitial(e){return this[D][e]}sync(){let e={},t=k(I,this);for(let n in t){let a=t[n];e[n]=a.saveFn?a.saveFn(this[n],this):this[n]}this[D]=e}reset(){let e=k(I,this);for(let t of this[V]){let n=this[D][t],a=e[t];this[t]=a&&a.restoreFn?a.restoreFn(n):n}}validate(e){let t=k(N,this);if(e)return J(this,t,e);let n=!1;for(let e in t){let a=J(this,t,e);n||(n=!!a)}return n}checkChanges(e){let t=k(I,this);if(e)return W(this,t,e);let n=!1;for(let e in t){let a=W(this,t,e);n||(n=!!a)}return n}constructor(){this[s]={},this[o]=new Set,this[r]={}}}s=Z,o=V,r=D,Y.config={manual:!1};let _=function(e,t,n){let a=Y.prototype,s=B.decorate(e,a,t,n);return s&&F.defineProperty(a,t,s),s},X=(e,t)=>B.metadata(`design:${e}`,t),G=e=>X("type",e),Q=()=>X("paramtypes",[]),U=(e,t)=>_([t,G(F)],e,void 0),ee=e=>_([b.Fl,G(Boolean),Q()],e,null),et=e=>_([b.aD,G(Function),Q(),X("returntype",void 0)],e,null);U(Z,b.LO),U(D,b.LO.ref),U(V,b.LO),ee("presentation"),ee("isChanged"),ee("isValid"),ee("errors"),et("sync"),et("reset"),et("validate"),et("checkChanges");let en=()=>e=>(null==e||!e.trim())&&"This field is required",ea=()=>e=>!/\S+@\S+\.\S+/.test(e)&&"Invalid email format",es=(e,t)=>n=>(!(n.length>=e)||!(n.length<=t))&&(n.length<e?`Should be longer than ${e} characters`:`Should be shorter than ${t} characters`);var eo=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},er=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class ei extends Y{constructor(){super(...arguments),this.login="",this.password="",this.repeatedPassword=""}}eo([A(en()),b.LO,er("design:type",Object)],ei.prototype,"login",void 0),eo([A(en(),es(8,32)),b.LO,er("design:type",Object)],ei.prototype,"password",void 0),eo([A(en(),(e,t)=>e!==t.password&&"Passwords mismatched"),b.LO,er("design:type",Object)],ei.prototype,"repeatedPassword",void 0);let el=()=>{let e=(0,l.useMemo)(()=>ei.create(),[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("form",Object.assign({onSubmit:t=>{t.preventDefault(),alert(`Is form valid: ${e.isValid}
Errors: ${JSON.stringify(e.errors,void 0,2)}`)},style:{marginBottom:32}},{children:[(0,i.jsx)(u.nv,{schema:e,field:"login",label:"Login"}),(0,i.jsx)(u.nv,{schema:e,field:"password",type:"password",label:"Password"}),(0,i.jsx)(u.nv,{schema:e,field:"repeatedPassword",type:"password",label:"Repeat password"}),(0,i.jsx)(u.dy,Object.assign({className:"form-footer"},{children:(0,i.jsx)(u.zx,Object.assign({type:"submit"},{children:"Submit"}))}))]})),(0,i.jsx)(u.SI,{schema:e,noChanged:!0})]})};var ec=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},em=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class ed extends Y{constructor(){super(...arguments),this.email="",this.name="",this.wantToShareName=!1}}ec([A(ea()).if(Boolean),b.LO,em("design:type",Object)],ed.prototype,"email",void 0),ec([A(en()).if((e,t)=>t.wantToShareName),b.LO,em("design:type",Object)],ed.prototype,"name",void 0),ec([b.LO,em("design:type",Object)],ed.prototype,"wantToShareName",void 0);let eh=()=>{let e=(0,l.useMemo)(()=>ed.create(),[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("form",Object.assign({onSubmit:t=>{t.preventDefault(),alert(`Is form valid: ${e.isValid}
Errors: ${JSON.stringify(e.errors,void 0,2)}`)},style:{marginBottom:32}},{children:[(0,i.jsx)(u.nv,{schema:e,field:"name",label:"Name"}),(0,i.jsx)(u.nv,{schema:e,field:"email",label:"E-mail"}),(0,i.jsx)(u.ji,{schema:e,field:"wantToShareName",label:"Want to share name"}),(0,i.jsx)(u.dy,Object.assign({className:"form-footer"},{children:(0,i.jsx)("button",Object.assign({type:"submit"},{children:"Submit"}))}))]})),(0,i.jsx)(u.SI,{schema:e,noChanged:!0})]})};var ef=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},eu=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class ep extends Y{constructor(){super(...arguments),this.name="",this.email=""}}ef([A(en()),b.LO,eu("design:type",Object)],ep.prototype,"name",void 0),ef([A(en(),ea()),b.LO,eu("design:type",Object)],ep.prototype,"email",void 0);let ex=()=>{let e=(0,l.useMemo)(()=>ep.create(),[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("form",Object.assign({onSubmit:t=>{t.preventDefault(),alert(`Is form valid: ${e.isValid}
Errors: ${JSON.stringify(e.errors,void 0,2)}`)},style:{marginBottom:32}},{children:[(0,i.jsx)(u.nv,{schema:e,field:"name",label:"Name"}),(0,i.jsx)(u.nv,{schema:e,field:"email",label:"E-mail"}),(0,i.jsx)(u.dy,Object.assign({className:"form-footer"},{children:(0,i.jsx)("button",Object.assign({type:"submit"},{children:"Submit"}))}))]})),(0,i.jsx)(u.SI,{schema:e,noChanged:!0})]})};var eb={filename:"SimpleSchema.ts",code:"import { FormSchema, validate } from '@yoskutik/mobx-form-schema';\nimport { observable } from 'mobx';\nimport { required, email } from '../validators';\n\nexport class SimpleSchema extends FormSchema {\n  @validate(required())\n  @observable name = '';\n\n  @validate(required(), email())\n  @observable email = '';\n}"},eg={filename:"SimpleForm.tsx",code:'import React, { useMemo } from \'react\';\nimport { TextField, SchemaInformer, HFlexBox } from \'@components\';\nimport { SimpleSchema } from \'./SimpleSchema\';\n\nexport const SimpleForm = () => {\n  const schema = useMemo(() => SimpleSchema.create(), []);\n\n  const handleSubmit = (evt: React.FormEvent) => {\n    evt.preventDefault();\n    alert(\n      `Is form valid: ${schema.isValid}\\n` +\n      `Errors: ${JSON.stringify(schema.errors, undefined, 2)}`\n    );\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} style={{ marginBottom: 32 }}>\n        <TextField schema={schema} field="name" label="Name" />\n        <TextField schema={schema} field="email" label="E-mail" />\n\n        <HFlexBox className="form-footer">\n          <button type="submit">Submit</button>\n        </HFlexBox>\n      </form>\n\n      <SchemaInformer schema={schema} noChanged />\n    </>\n  );\n}'},ej={filename:"AdvancedForm.tsx",code:'import React, { useMemo } from \'react\';\nimport { TextField, SchemaInformer, HFlexBox, Button } from \'@components\';\nimport { AdvancedSchema } from \'./AdvancedSchema\';\n\nexport const AdvancedForm = () => {\n  const schema = useMemo(() => AdvancedSchema.create(), []);\n\n  const handleSubmit = (evt: React.FormEvent) => {\n    evt.preventDefault();\n    alert(\n      `Is form valid: ${schema.isValid}\\n` +\n      `Errors: ${JSON.stringify(schema.errors, undefined, 2)}`\n    );\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} style={{ marginBottom: 32 }}>\n        <TextField schema={schema} field="login" label="Login" />\n        <TextField schema={schema} field="password" type="password" label="Password" />\n        <TextField schema={schema} field="repeatedPassword" type="password" label="Repeat password" />\n\n        <HFlexBox className="form-footer">\n          <Button type="submit">Submit</Button>\n        </HFlexBox>\n      </form>\n\n      <SchemaInformer schema={schema} noChanged />\n    </>\n  );\n}'},ey={filename:"AdvancedSchema.ts",code:"import { FormSchema, validate } from '@yoskutik/mobx-form-schema';\nimport { observable } from 'mobx';\nimport { required, lengthBetween } from '../validators';\n\nconst repeatedPassword = () => (repeated: string, schema: AdvancedSchema) => {\n  if (repeated === schema.password) return false;\n  return 'Passwords mismatched';\n};\n\nexport class AdvancedSchema extends FormSchema {\n  @validate(required())\n  @observable login = '';\n\n  @validate(required(), lengthBetween(8, 32))\n  @observable password = '';\n\n  @validate(required(), repeatedPassword())\n  @observable repeatedPassword = '';\n}"},ev={filename:"ConditionalSchema.ts",code:"import { FormSchema, validate } from '@yoskutik/mobx-form-schema';\nimport { observable } from 'mobx';\nimport { email, required } from '../validators';\n\nconst shouldValidateName = (_name: string, schema: ConditionalSchema) =>\n  schema.wantToShareName;\n\nexport class ConditionalSchema extends FormSchema {\n  @validate(email()).if(Boolean)  // or .if(email => !!email)\n  @observable email = '';\n\n  @validate(required()).if(shouldValidateName)\n  @observable name = '';\n\n  @observable wantToShareName = false;\n}"},eS={filename:"ConditionalForm.tsx",code:'import React, { useMemo } from \'react\';\nimport { TextField, SchemaInformer, CheckboxField, HFlexBox } from \'@components\';\nimport { ConditionalSchema } from \'./ConditionalSchema\';\n\nexport const ConditionalForm = () => {\n  const schema = useMemo(() => ConditionalSchema.create(), []);\n\n  const handleSubmit = (evt: React.FormEvent) => {\n    evt.preventDefault();\n    alert(\n      `Is form valid: ${schema.isValid}\\n` +\n      `Errors: ${JSON.stringify(schema.errors, undefined, 2)}`\n    );\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} style={{ marginBottom: 32 }}>\n        <TextField schema={schema} field="name" label="Name" />\n        <TextField schema={schema} field="email" label="E-mail" />\n        <CheckboxField schema={schema} field="wantToShareName" label="Want to share name" />\n\n        <HFlexBox className="form-footer">\n          <button type="submit">Submit</button>\n        </HFlexBox>\n      </form>\n\n      <SchemaInformer schema={schema} noChanged />\n    </>\n  );\n}'},eO={filename:"validators.ts",code:"// Shared file\n\nexport const required = () => (value?: string) => {\n  if (value?.trim()) return false;\n  return 'This field is required';\n};\n\nexport const email = () => (value: string) => {\n  if (/\\S+@\\S+\\.\\S+/.test(value)) return false;\n  return 'Invalid email format';\n};\n\nexport const lengthBetween = (min: number, max: number) => (value: string) => {\n  if (value.length >= min && value.length <= max) return false;\n  if (value.length < min) return `Should be longer than ${min} characters`;\n  return `Should be shorter than ${max} characters`;\n};"},ew=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},eF=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let eB=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:4}},{children:["You can easily ",(0,i.jsx)("b",{children:"apply any validation function"})," to any field of your form - just use ",(0,i.jsx)(u.EK,{children:"@validate"})," decorator. You can also apply ",(0,i.jsx)("b",{children:"several functions"})," in order to get different error messages for different validation rules."]})),(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:2}},{children:["You can not only ",(0,i.jsx)("b",{children:"access the error messages"})," but also ",(0,i.jsx)("b",{children:"understand whether the entire form is valid"})," or not."]})),(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:2}},{children:["And the most cool part - the ",(0,i.jsx)("b",{children:"validation is applied automatically"}),", when the value of the field is changed."]})),(0,i.jsx)(d.Z,Object.assign({component:"p",sx:{mt:2}},{children:"You can look at the example below to see how MobX Form Schema can be used in React."}))]}),ek=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:4}},{children:["Inside a validation function you can use not just the current value, but actually also ",(0,i.jsx)("b",{children:"entire form as well"}),". It is useful if the validation is depends on other field's value. For example, if you want to make sure that repeated password is equal to the original one."]})),(0,i.jsx)(d.Z,Object.assign({component:"p",sx:{mt:2}},{children:"And it completely automatic as well. In the passwords example the validation will be applied whenever the password or repeated password is changed."}))]}),eR=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:4}},{children:["The validation ",(0,i.jsx)("b",{children:"can be applied conditionally"}),". It can be useful in several cases, like turning off the validation for optional fields, if they don't have any value. As it works in the example below - the validation for ",(0,i.jsx)(u.EK,{children:"email"})," field will be applied only if it's not empty."]})),(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:2}},{children:["And you can also ",(0,i.jsx)("b",{children:"make the condition based on any other field"})," as well. It can be useful, if the condition is based on some other properties of your form. Just as it works in the example below - the validation for ",(0,i.jsx)(u.EK,{children:"name"})," field will be applied only when ",(0,i.jsx)("i",{children:'"What to share name"'})," checkbox is checked."]})),(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:2}},{children:["To enable conditional validation simply apply ",(0,i.jsx)(u.EK,{children:"@validate(...).if"})," decorator."]}))]});class eC extends g.ViewModel{constructor(){super(),this.toggleValue="simple",this.handleToggleChange=(e,t)=>{t&&(this.toggleValue=t)},(0,b.rC)(this)}}ew([b.LO,eF("design:type",String)],eC.prototype,"toggleValue",void 0),ew([b.aD,eF("design:type",Object)],eC.prototype,"handleToggleChange",void 0);let eP=(0,g.view)(eC)(({viewModel:e})=>(0,i.jsxs)(x,Object.assign({title:"Validate it!",titleActions:(0,i.jsxs)(j.Z,Object.assign({value:e.toggleValue,color:"secondary",size:"small",exclusive:!0,onChange:e.handleToggleChange},{children:[(0,i.jsx)(y.Z,Object.assign({value:"simple"},{children:"Simple"})),(0,i.jsx)(y.Z,Object.assign({value:"advanced"},{children:"Advanced"})),(0,i.jsx)(y.Z,Object.assign({value:"conditional"},{children:"Conditional"}))]}))},{children:["simple"===e.toggleValue&&(0,i.jsx)(eB,{}),"advanced"===e.toggleValue&&(0,i.jsx)(ek,{}),"conditional"===e.toggleValue&&(0,i.jsx)(eR,{}),"simple"===e.toggleValue&&(0,i.jsx)(w,Object.assign({items:[eb,eg,eO,u.yH,u.Pe]},{children:(0,i.jsx)(ex,{})})),"advanced"===e.toggleValue&&(0,i.jsx)(w,Object.assign({items:[ey,ej,eO,u.yH,u.Pe]},{children:(0,i.jsx)(el,{})})),"conditional"===e.toggleValue&&(0,i.jsx)(w,Object.assign({items:[ev,eS,eO,u.yH,u.NH,u.Pe]},{children:(0,i.jsx)(eh,{})}))]})));var eT=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},eI=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class eN extends Y{constructor(){super(...arguments),this.name="",this.surname="",this.email=""}}eT([$,eI("design:type",Object)],eN.prototype,"name",void 0),eT([$,eI("design:type",Object)],eN.prototype,"surname",void 0),eT([$,eI("design:type",Object)],eN.prototype,"email",void 0);let eE=()=>{let e=(0,l.useMemo)(()=>eN.create(),[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("form",Object.assign({onSubmit:t=>{t.preventDefault(),alert(`Is form changed: ${e.isChanged}`)},style:{marginBottom:32}},{children:[(0,i.jsx)(u.nv,{schema:e,field:"name",label:"Name"}),(0,i.jsx)(u.nv,{schema:e,field:"surname",label:"Surname"}),(0,i.jsx)(u.nv,{schema:e,field:"email",label:"E-mail"}),(0,i.jsxs)(u.dy,Object.assign({className:"form-footer"},{children:[(0,i.jsx)(u.zx,Object.assign({type:"submit"},{children:"Submit"})),(0,i.jsx)(u.zx,Object.assign({onClick:()=>e.sync()},{children:"Save"})),(0,i.jsx)(u.zx,Object.assign({onClick:()=>e.reset()},{children:"Restore"}))]}))]})),(0,i.jsx)(u.SI,{schema:e,noErrors:!0})]})},eD=()=>{let e=(0,l.useMemo)(()=>eN.create({name:"Initial name",surname:"Initial surname",email:"initial@email.com"}),[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("form",Object.assign({onSubmit:t=>{t.preventDefault(),alert(`Is form changed: ${e.isChanged}`)},style:{marginBottom:32}},{children:[(0,i.jsx)(u.nv,{schema:e,field:"name",label:"Name"}),(0,i.jsx)(u.nv,{schema:e,field:"surname",label:"Surname"}),(0,i.jsx)(u.nv,{schema:e,field:"email",label:"E-mail"}),(0,i.jsxs)(u.dy,Object.assign({className:"form-footer"},{children:[(0,i.jsx)(u.zx,Object.assign({type:"submit"},{children:"Submit"})),(0,i.jsx)(u.zx,Object.assign({onClick:()=>e.sync()},{children:"Save"})),(0,i.jsx)(u.zx,Object.assign({onClick:()=>e.reset()},{children:"Restore"}))]}))]})),(0,i.jsx)(u.SI,{schema:e,noErrors:!0})]})};var eZ=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},eV=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class eA extends Y{constructor(){super(...arguments),this.skillSet=new Set,this.skillArray=[]}}eZ([b.LO.shallow,$.set,eV("design:type",Object)],eA.prototype,"skillSet",void 0),eZ([b.LO.shallow,$.array,eV("design:type",Array)],eA.prototype,"skillArray",void 0);let eH=()=>{let e=(0,l.useMemo)(()=>eA.create({skillSet:new Set(["JavaScript","HTML","CSS"]),skillArray:["JavaScript","HTML","CSS"]}),[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("form",Object.assign({onSubmit:t=>{t.preventDefault(),alert(`Is form changed: ${e.isChanged}`)},style:{marginBottom:32}},{children:[(0,i.jsx)(u.IG,{schema:e,field:"skillSet",label:"Skills as set"}),(0,i.jsx)(u.IG,{schema:e,field:"skillArray",label:"Skills as array"}),(0,i.jsxs)(u.dy,Object.assign({className:"form-footer"},{children:[(0,i.jsx)(u.zx,Object.assign({type:"submit"},{children:"Submit"})),(0,i.jsx)(u.zx,Object.assign({onClick:()=>e.sync()},{children:"Save"})),(0,i.jsx)(u.zx,Object.assign({onClick:()=>e.reset()},{children:"Restore"}))]}))]})),(0,i.jsx)(u.SI,{schema:e,noErrors:!0})]})};var eM=n(7973),ez=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},eL=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class e$ extends Y{constructor(){super(...arguments),this.email="",this.tel=""}}ez([$,eL("design:type",Object)],e$.prototype,"email",void 0),ez([$,eL("design:type",Object)],e$.prototype,"tel",void 0);class eK extends Y{constructor(){super(...arguments),this.name="",this.surname=""}}ez([$,eL("design:type",Object)],eK.prototype,"name",void 0),ez([$,eL("design:type",Object)],eK.prototype,"surname",void 0);class eq extends Y{constructor(){super(...arguments),this.contacts=e$.create(),this.relatives=[]}}ez([$.schema,eL("design:type",Object)],eq.prototype,"contacts",void 0),ez([$.schemasArray,eL("design:type",Array)],eq.prototype,"relatives",void 0);let eJ=(0,eM.Pi)(()=>{let e=(0,l.useMemo)(()=>eq.create({contacts:e$.create({email:"yoskutik@gmail.com"}),relatives:[eK.create({name:"Name 1",surname:"Surname 1"}),eK.create({name:"Name 2",surname:"Surname 2"})]}),[]),t=(0,b.aD)(()=>{e.relatives.push(eK.create())}),n=(0,b.aD)(t=>{e.relatives.splice(t,1)});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("form",Object.assign({onSubmit:t=>{t.preventDefault(),alert(`Is form changed: ${e.isChanged}`)},style:{marginBottom:32}},{children:[(0,i.jsx)("b",{children:"Contacts"}),(0,i.jsx)(u.nv,{schema:e.contacts,field:"email",label:"E-mail"}),(0,i.jsx)(u.nv,{schema:e.contacts,field:"tel",label:"Phone number"}),(0,i.jsxs)(u.dy,Object.assign({style:{marginTop:16}},{children:[(0,i.jsx)("b",{children:"Relatives"}),(0,i.jsx)(u.zx,Object.assign({onClick:t,size:"s"},{children:"Add"}))]})),e.relatives.map((e,t)=>(0,i.jsxs)(u.de,Object.assign({style:{marginTop:12}},{children:[(0,i.jsxs)(u.dy,{children:[(0,i.jsxs)("span",{children:["Relative: #",t+1]}),(0,i.jsx)(u.zx,Object.assign({onClick:()=>n(t),size:"s"},{children:"Delete"}))]}),(0,i.jsx)(u.nv,{schema:e,field:"name",label:"Name"}),(0,i.jsx)(u.nv,{schema:e,field:"surname",label:"Surname"})]}),t)),(0,i.jsxs)(u.dy,Object.assign({className:"form-footer"},{children:[(0,i.jsx)(u.zx,Object.assign({type:"submit"},{children:"Submit"})),(0,i.jsx)(u.zx,Object.assign({onClick:()=>e.sync()},{children:"Save"})),(0,i.jsx)(u.zx,Object.assign({onClick:()=>e.reset()},{children:"Restore"}))]}))]})),(0,i.jsx)(u.SI,{schema:e,noErrors:!0})]})});var eW={filename:"BasicForm.tsx",code:'import React, { useMemo } from \'react\';\nimport { Button, HFlexBox, SchemaInformer, TextField } from \'@components\';\nimport { BasicSchema } from \'./BasicSchema\';\n\nexport const BasicForm = () => {\n  const schema = useMemo(() => BasicSchema.create(), []);\n\n  const handleSubmit = (evt: React.FormEvent) => {\n    evt.preventDefault();\n    alert(`Is form changed: ${schema.isChanged}`);\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} style={{ marginBottom: 32 }}>\n        <TextField schema={schema} field="name" label="Name" />\n        <TextField schema={schema} field="surname" label="Surname" />\n        <TextField schema={schema} field="email" label="E-mail" />\n\n        <HFlexBox className="form-footer">\n          <Button type="submit">Submit</Button>\n          <Button onClick={() => schema.sync()}>Save</Button>\n          <Button onClick={() => schema.reset()}>Restore</Button>\n        </HFlexBox>\n      </form>\n\n      <SchemaInformer schema={schema} noErrors />\n    </>\n  );\n}'},eY={filename:"BasicSchema.ts",code:"import { FormSchema, watch } from '@yoskutik/mobx-form-schema';\n\nexport class BasicSchema extends FormSchema {\n  @watch name = '';\n\n  @watch surname = '';\n\n  @watch email = '';\n}"},e_={filename:"PredefinedForm.tsx",code:'import React, { useMemo } from \'react\';\nimport { Button, HFlexBox, SchemaInformer, TextField } from \'@components\';\nimport { BasicSchema } from \'../basic/BasicSchema\';\n\nexport const PredefinedForm = () => {\n  const schema = useMemo(() => (\n    BasicSchema.create({\n      name: \'Initial name\',\n      surname: \'Initial surname\',\n      email: \'initial@email.com\',\n    })\n  ), []);\n\n  const handleSubmit = (evt: React.FormEvent) => {\n    evt.preventDefault();\n    alert(`Is form changed: ${schema.isChanged}`);\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} style={{ marginBottom: 32 }}>\n        <TextField schema={schema} field="name" label="Name" />\n        <TextField schema={schema} field="surname" label="Surname" />\n        <TextField schema={schema} field="email" label="E-mail" />\n\n        <HFlexBox className="form-footer">\n          <Button type="submit">Submit</Button>\n          <Button onClick={() => schema.sync()}>Save</Button>\n          <Button onClick={() => schema.reset()}>Restore</Button>\n        </HFlexBox>\n      </form>\n\n      <SchemaInformer schema={schema} noErrors />\n    </>\n  );\n}'},eX={filename:"SetsNArraysForm.tsx",code:"import React, { useEffect, useMemo } from 'react';\nimport { Button, ChoiceField, HFlexBox, SchemaInformer } from '@components';\nimport { SetsNArraysSchema } from './SetsNArraysSchema';\n\nexport const SetsNArraysForm = () => {\n  const schema = useMemo(() => (\n    SetsNArraysSchema.create({\n      skillSet: new Set(['JavaScript', 'HTML', 'CSS']),\n      skillArray: ['JavaScript', 'HTML', 'CSS'],\n    })\n  ), []);\n\n  const handleSubmit = (evt: React.FormEvent) => {\n    evt.preventDefault();\n    alert(`Is form changed: ${schema.isChanged}`);\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} style={{ marginBottom: 32 }}>\n        <ChoiceField schema={schema} field=\"skillSet\" label=\"Skills as set\" />\n        <ChoiceField schema={schema} field=\"skillArray\" label=\"Skills as array\" />\n\n        <HFlexBox className=\"form-footer\">\n          <Button type=\"submit\">Submit</Button>\n          <Button onClick={() => schema.sync()}>Save</Button>\n          <Button onClick={() => schema.reset()}>Restore</Button>\n        </HFlexBox>\n      </form>\n\n      <SchemaInformer schema={schema} noErrors />\n    </>\n  );\n}"},eG={filename:"SetsNArraysSchema.ts",code:"import { FormSchema, watch } from '@yoskutik/mobx-form-schema';\nimport { observable } from 'mobx';\n\nexport class SetsNArraysSchema extends FormSchema {\n  @observable.shallow\n  @watch.set skillSet = new Set<string>();\n\n  @observable.shallow\n  @watch.array skillArray: string[] = [];\n}"},eQ={filename:"NestedSchemasSchema.ts",code:"import { FormSchema, watch } from '@yoskutik/mobx-form-schema';\nimport { observable } from 'mobx';\n\nexport class ContactsSchema extends FormSchema {\n  @watch email = '';\n\n  @watch tel = '';\n}\n\nexport class RelativeSchema extends FormSchema {\n  @watch name = '';\n\n  @watch surname = '';\n}\n\nexport class NestedSchemasSchema extends FormSchema {\n  @watch.schema contacts = ContactsSchema.create();\n\n  @watch.schemasArray relatives: RelativeSchema[] = [];\n}"},eU={filename:"NestedSchemasForm.tsx",code:'import React, { useMemo } from \'react\';\nimport { action } from \'mobx\';\nimport { observer } from \'mobx-react\';\nimport { Button, HFlexBox, SchemaInformer, TextField, VFlexBox } from \'@components\';\nimport { ContactsSchema, NestedSchemasSchema, RelativeSchema } from \'./NestedSchemasSchema\';\n\nexport const NestedSchemasForm = observer(() => {\n  const schema = useMemo(() => (\n    NestedSchemasSchema.create({\n      contacts: ContactsSchema.create({\n        email: \'yoskutik@gmail.com\',\n      }),\n      relatives: [\n        RelativeSchema.create({\n          name: \'Name 1\',\n          surname: \'Surname 1\',\n        }),\n        RelativeSchema.create({\n          name: \'Name 2\',\n          surname: \'Surname 2\',\n        }),\n      ],\n    })\n  ), []);\n\n  const handleSubmit = (evt: React.FormEvent) => {\n    evt.preventDefault();\n    alert(`Is form changed: ${schema.isChanged}`);\n  };\n\n  const handleAddClick = action(() => {\n    schema.relatives.push(RelativeSchema.create());\n  });\n\n  const handleDeleteClick = action((i: number) => {\n    schema.relatives.splice(i, 1);\n  });\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} style={{ marginBottom: 32 }}>\n        <b>Contacts</b>\n        <TextField schema={schema.contacts} field="email" label="E-mail" />\n        <TextField schema={schema.contacts} field="tel" label="Phone number" />\n\n        <HFlexBox style={{ marginTop: 16 }}>\n          <b>Relatives</b>\n          <Button onClick={handleAddClick} size="s">Add</Button>\n        </HFlexBox>\n\n        {schema.relatives.map((it, i) => (\n          <VFlexBox key={i} style={{ marginTop: 12 }}>\n            <HFlexBox>\n              <span>Relative: #{i + 1}</span>\n              <Button onClick={() => handleDeleteClick(i)} size="s">\n                Delete\n              </Button>\n            </HFlexBox>\n            <TextField schema={it} field="name" label="Name" />\n            <TextField schema={it} field="surname" label="Surname" />\n          </VFlexBox>\n        ))}\n\n        <HFlexBox className="form-footer">\n          <Button type="submit">Submit</Button>\n          <Button onClick={() => schema.sync()}>Save</Button>\n          <Button onClick={() => schema.reset()}>Restore</Button>\n        </HFlexBox>\n      </form>\n\n      <SchemaInformer schema={schema} noErrors />\n    </>\n  );\n})'},e0=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},e2=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let e3=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:4}},{children:["With ",(0,i.jsx)("i",{children:"MobX Form Schema"})," you can ",(0,i.jsx)("b",{children:"understand whether the content of your form is changed"}),". It can be useful, if you want to disable submit availability if the form is not changed. Simply apply ",(0,i.jsx)(u.EK,{children:"@watch"})," decorator to the fields you want to observe for changes."]})),(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:2}},{children:["If you use ",(0,i.jsx)(u.EK,{children:"@watch"}),", the ",(0,i.jsx)(u.EK,{children:"@observable"})," will be applied automatically, so you don't need to use them both. But if you want to use any other observable modifier you must apply it explicitly, like so: ",(0,i.jsx)(u.EK,{children:"@watch @observable.ref"}),"."]})),(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:2}},{children:["Also, applying ",(0,i.jsx)(u.EK,{children:"@watch.schema"})," will apply ",(0,i.jsx)(u.EK,{children:"@observable.ref"})," and applying ",(0,i.jsx)(u.EK,{children:"@watch.schemasArray"})," will apply ",(0,i.jsx)(u.EK,{children:"@observable.shallow"}),"."]}))]}),e1=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:4}},{children:[(0,i.jsx)("b",{children:"It also works with predefined values"}),". And that's extremely helpful, if there's an option to edit forms with predefined values in your project."]})),(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:2}},{children:["Also, with ",(0,i.jsx)(u.EK,{children:"@watch"}),' decorator you can also restore your form into the initial state or save the current state as the initial - you can try clicking "Save" and "Restore" buttons in the example below.']}))]}),e5=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:4}},{children:["You can observe not only primitive values, but also ",(0,i.jsx)("b",{children:"sets or arrays"})," of primitive values. It can be useful, if you have fields for choosing several items. Simply apply ",(0,i.jsx)(u.EK,{children:"@watch.set"})," or ",(0,i.jsx)(u.EK,{children:"@watch.array"})," decorator to enable set or array observation."]})),(0,i.jsx)(d.Z,Object.assign({component:"p",sx:{mt:2}},{children:'In the demo below you can try to add or delete some skills. In case of "Skills as set" field - it won\'t be considered changed as long as the final set contains all the values from the initial one. In case of "Skills as array" the items must be at the same position as they are in the initial array to be consider the same.'}))]}),e4=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:4}},{children:["Actually, with ",(0,i.jsx)("i",{children:"MobX Form Schema"})," you can always understand whether the form was changed and restore it to the initial state. Even, if you have complex structures in your schemas. You can just use one form schema inside another one."]})),(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:2}},{children:["You can apply ",(0,i.jsx)(u.EK,{children:"@watch.schema"})," decorator, if you want to observe nested schema for changes. You can apply ",(0,i.jsx)(u.EK,{children:"@watch.schemasArray"})," decorator, if you want to observe an array of nested schema for changes."]})),(0,i.jsx)(d.Z,Object.assign({component:"p",sx:{mt:2}},{children:"You can try the demo below. No matter how much data you add, delete or change, as long as the current state is the same as the initial one, the form will not be considered changed. You can try it yourself - for example, you can delete a block for last relative, add one, and then fill it with the same content."}))]});class e8 extends g.ViewModel{constructor(){super(),this.toggleValue="basic",this.handleToggleChange=(e,t)=>{t&&(this.toggleValue=t)},(0,b.rC)(this)}}e0([b.LO,e2("design:type",String)],e8.prototype,"toggleValue",void 0),e0([b.aD,e2("design:type",Object)],e8.prototype,"handleToggleChange",void 0);let e6=(0,g.view)(e8)(({viewModel:e})=>(0,i.jsxs)(x,Object.assign({title:"Observe it!",titleActions:(0,i.jsxs)(j.Z,Object.assign({value:e.toggleValue,color:"secondary",size:"small",exclusive:!0,onChange:e.handleToggleChange},{children:[(0,i.jsx)(y.Z,Object.assign({value:"basic"},{children:"Basic"})),(0,i.jsx)(y.Z,Object.assign({value:"predefined"},{children:"Predefined"})),(0,i.jsx)(y.Z,Object.assign({value:"sets-n-arrays"},{children:"Sets & Arrays"})),(0,i.jsx)(y.Z,Object.assign({value:"nested-schemas"},{children:"Nested schemas"}))]}))},{children:["basic"===e.toggleValue&&(0,i.jsx)(e3,{}),"predefined"===e.toggleValue&&(0,i.jsx)(e1,{}),"sets-n-arrays"===e.toggleValue&&(0,i.jsx)(e5,{}),"nested-schemas"===e.toggleValue&&(0,i.jsx)(e4,{}),["basic","predefined"].includes(e.toggleValue)&&(0,i.jsx)(w,Object.assign({items:[eY,"basic"===e.toggleValue?eW:e_,u.yH,u.Pe]},{children:"basic"===e.toggleValue?(0,i.jsx)(eE,{}):(0,i.jsx)(eD,{})})),"sets-n-arrays"===e.toggleValue&&(0,i.jsx)(w,Object.assign({items:[eG,eX,u.d6,u.Pe]},{children:(0,i.jsx)(eH,{})})),"nested-schemas"===e.toggleValue&&(0,i.jsx)(w,Object.assign({items:[eQ,eU,u.yH,u.Pe]},{children:(0,i.jsx)(eJ,{})}))]})));var e7=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},e9=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class te extends Y{constructor(){super(...arguments),this.field1="Default value 1",this.field2="Default value 2"}}e7([b.LO,e9("design:type",Object)],te.prototype,"field1",void 0),e7([b.LO,e9("design:type",Object)],te.prototype,"field2",void 0);let tt=()=>{let e=(0,l.useMemo)(()=>te.create({field2:"Value from backend"}),[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("form",Object.assign({onSubmit:e=>e.preventDefault(),style:{marginBottom:32}},{children:[(0,i.jsx)(u.nv,{schema:e,field:"field1",label:"Field1"}),(0,i.jsx)(u.nv,{schema:e,field:"field2",label:"Field2"}),(0,i.jsx)(u.dy,Object.assign({className:"form-footer"},{children:(0,i.jsx)(u.zx,Object.assign({type:"submit"},{children:"Submit"}))}))]})),(0,i.jsx)(u.SI,{schema:e,noErrors:!0,noChanged:!0})]})};class tn extends Y{constructor(){super(...arguments),this.datetime=new Date}}!function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);o>3&&r&&Object.defineProperty(t,n,r)}([(a=e=>new Date(e),(e,t)=>{let n=R(T,e);n[t]=a,C(T,n,e)}),b.LO,function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:type",Object)],tn.prototype,"datetime",void 0);let ta=(0,eM.Pi)(()=>{let e=(0,l.useMemo)(()=>tn.create({datetime:"2023-01-01T00:00:00.000Z"}),[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("form",Object.assign({onSubmit:e=>e.preventDefault(),style:{marginBottom:32}},{children:[(0,i.jsx)(u.to,{schema:e,field:"datetime",label:"Field1"}),(0,i.jsxs)("div",Object.assign({style:{marginTop:8}},{children:["Is datetime an instance of Date: ",(e.datetime instanceof Date).toString()]})),(0,i.jsx)(u.dy,Object.assign({className:"form-footer"},{children:(0,i.jsx)(u.zx,Object.assign({type:"submit"},{children:"Submit"}))}))]})),(0,i.jsx)(u.SI,{schema:e,noErrors:!0,noChanged:!0})]})});var ts={filename:"DefaultForm.tsx",code:'import React, { useMemo } from \'react\';\nimport { Button, HFlexBox, SchemaInformer, TextField } from \'@components\';\nimport { DefaultSchema } from \'./DefaultSchema\';\n\nexport const DefaultForm = () => {\n  const schema = useMemo(() => (\n    DefaultSchema.create({\n      field2: \'Value from backend\',\n    })\n  ), []);\n\n  return (\n    <>\n      <form onSubmit={evt => evt.preventDefault()} style={{ marginBottom: 32 }}>\n        <TextField schema={schema} field="field1" label="Field1"/>\n        <TextField schema={schema} field="field2" label="Field2"/>\n\n        <HFlexBox className="form-footer">\n          <Button type="submit">Submit</Button>\n        </HFlexBox>\n      </form>\n\n      <SchemaInformer schema={schema} noErrors noChanged />\n    </>\n  );\n}'},to={filename:"DefaultSchema.ts",code:"import { FormSchema } from '@yoskutik/mobx-form-schema';\nimport { observable } from 'mobx';\n\nexport class DefaultSchema extends FormSchema {\n  @observable field1 = 'Default value 1';\n\n  @observable field2 = 'Default value 2';\n}"},tr={filename:"TransformForm.tsx",code:"import React, { useMemo } from 'react';\nimport { observer } from 'mobx-react';\nimport { Button, HFlexBox, SchemaInformer, DatetimeLocalField } from '@components';\nimport { TransformSchema } from './TransformSchema';\n\nexport const TransformForm = observer(() => {\n  const schema = useMemo(() => (\n    TransformSchema.create({\n      datetime: '2023-01-01T00:00:00.000Z',\n    })\n  ), []);\n\n  return (\n    <>\n      <form onSubmit={evt => evt.preventDefault()} style={{ marginBottom: 32 }}>\n        <DatetimeLocalField schema={schema} field=\"datetime\" label=\"Field1\"/>\n\n        <div style={{ marginTop: 8 }}>\n          Is datetime an instance of Date: {(schema.datetime instanceof Date).toString()}\n        </div>\n\n        <HFlexBox className=\"form-footer\">\n          <Button type=\"submit\">Submit</Button>\n        </HFlexBox>\n      </form>\n\n      <SchemaInformer schema={schema} noErrors noChanged />\n    </>\n  );\n})"},ti={filename:"TransformSchema.ts",code:"import { factory, FormSchema } from '@yoskutik/mobx-form-schema';\nimport { observable } from 'mobx';\n\nexport class TransformSchema extends FormSchema {\n  @factory(datetime => new Date(datetime))\n  @observable datetime = new Date();\n}"},tl=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},tc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let tm=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:4}},{children:["With ",(0,i.jsx)("i",{children:"MobX Form Schema"})," you can also tell how your form should be initialized with specific data. In the examples above you've already seen, how any form schema can be created with predefined values."]})),(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:2}},{children:["In your schema you can set default values for your fields. And also you can pass the data into ",(0,i.jsx)(u.EK,{children:"create"})," static method."]})),(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:2}},{children:["By the way, you don't have to call ",(0,i.jsx)(u.EK,{children:"makeObservable"})," function in the constructor of the schema, because it will be called in the ",(0,i.jsx)(u.EK,{children:"create"})," static method. But if you have to call it, for example to create reaction in the constructor, you can safely to it - there will be no errors."]}))]}),td=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:4}},{children:["By default, all the data passed into ",(0,i.jsx)(u.EK,{children:"create"})," static method is applied into your form without any transformation. But it may be useful to transform the data from the server, so it become easier to handle it. For example, if you want to convert date ISO string into ",(0,i.jsx)(u.EK,{children:"Date"})," instance."]})),(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:2}},{children:["To add transform function for any property you should apply ",(0,i.jsx)(u.EK,{children:"@factory"})," decorator."]}))]});class th extends g.ViewModel{constructor(){super(),this.toggleValue="default",this.handleToggleChange=(e,t)=>{t&&(this.toggleValue=t)},(0,b.rC)(this)}}tl([b.LO,tc("design:type",String)],th.prototype,"toggleValue",void 0),tl([b.aD,tc("design:type",Object)],th.prototype,"handleToggleChange",void 0);let tf=(0,g.view)(th)(({viewModel:e})=>(0,i.jsxs)(x,Object.assign({title:"Initialize it!",titleActions:(0,i.jsxs)(j.Z,Object.assign({value:e.toggleValue,color:"secondary",size:"small",exclusive:!0,onChange:e.handleToggleChange},{children:[(0,i.jsx)(y.Z,Object.assign({value:"default"},{children:"Default"})),(0,i.jsx)(y.Z,Object.assign({value:"with-transform"},{children:"With transformation"}))]}))},{children:["default"===e.toggleValue&&(0,i.jsx)(tm,{}),"with-transform"===e.toggleValue&&(0,i.jsx)(td,{}),"default"===e.toggleValue&&(0,i.jsx)(w,Object.assign({items:[to,ts,u.yH,u.Pe]},{children:(0,i.jsx)(tt,{})})),"with-transform"===e.toggleValue&&(0,i.jsx)(w,Object.assign({items:[ti,tr,u.A5,u.Pe]},{children:(0,i.jsx)(ta,{})}))]})));var tu=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},tp=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class tx extends Y{constructor(){super(...arguments),this.name="",this.login="",this.password="",this.repeatedPassword=""}}tu([q(e=>null==e?void 0:e.trim()),b.LO,tp("design:type",Object)],tx.prototype,"name",void 0),tu([A(en()),b.LO,tp("design:type",Object)],tx.prototype,"login",void 0),tu([A(en(),es(8,32)),b.LO,tp("design:type",Object)],tx.prototype,"password",void 0),tu([q.hidden,A(en(),(e,t)=>e!==t.password&&"Passwords mismatched"),b.LO,tp("design:type",Object)],tx.prototype,"repeatedPassword",void 0);let tb=()=>{let e=(0,l.useMemo)(()=>tx.create(),[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("form",Object.assign({onSubmit:t=>{t.preventDefault(),alert(`Presentation: ${JSON.stringify(e.presentation,void 0,2)}`)},style:{marginBottom:32}},{children:[(0,i.jsx)(u.nv,{schema:e,field:"name",label:"Name"}),(0,i.jsx)(u.nv,{schema:e,field:"login",label:"Login"}),(0,i.jsx)(u.nv,{schema:e,field:"password",type:"password",label:"Password"}),(0,i.jsx)(u.nv,{schema:e,field:"repeatedPassword",type:"password",label:"Repeat password"}),(0,i.jsx)(u.dy,Object.assign({className:"form-footer"},{children:(0,i.jsx)(u.zx,Object.assign({type:"submit"},{children:"Submit"}))}))]})),(0,i.jsx)(u.SI,{schema:e,noChanged:!0})]})};var tg={filename:"PresentationForm.tsx",code:'import React, { useMemo } from \'react\';\nimport { TextField, SchemaInformer, HFlexBox, Button } from \'@components\';\nimport { PresentationSchema } from \'./PresentationSchema\';\n\nexport const PresentationForm = () => {\n  const schema = useMemo(() => PresentationSchema.create(), []);\n\n  const handleSubmit = (evt: React.FormEvent) => {\n    evt.preventDefault();\n    alert(`Presentation: ${JSON.stringify(schema.presentation, undefined, 2)}`);\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} style={{ marginBottom: 32 }}>\n        <TextField schema={schema} field="name" label="Name" />\n        <TextField schema={schema} field="login" label="Login" />\n        <TextField schema={schema} field="password" type="password" label="Password" />\n        <TextField schema={schema} field="repeatedPassword" type="password" label="Repeat password" />\n\n        <HFlexBox className="form-footer">\n          <Button type="submit">Submit</Button>\n        </HFlexBox>\n      </form>\n\n      <SchemaInformer schema={schema} noChanged />\n    </>\n  );\n}'},tj={filename:"PresentationSchema.ts",code:"import { FormSchema, presentation, validate } from '@yoskutik/mobx-form-schema';\nimport { observable } from 'mobx';\nimport { required, lengthBetween } from '../Validation/validators';\n\nconst repeatedPassword = () => (repeated: string, schema: PresentationSchema) => {\n  if (repeated === schema.password) return false;\n  return 'Passwords mismatched';\n};\n\nexport class PresentationSchema extends FormSchema {\n  @presentation(value => value?.trim())\n  @observable name = '';\n\n  @validate(required())\n  @observable login = '';\n\n  @validate(required(), lengthBetween(8, 32))\n  @observable password = '';\n\n  @presentation.hidden\n  @validate(required(), repeatedPassword())\n  @observable repeatedPassword = '';\n}"};let ty=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:4}},{children:["Each form schema instance have its ",(0,i.jsx)("i",{children:"presentation"})," - an object that contains only data of form's fields without any utility data or methods. This object can be used as final presentation of your form and send to the server."]})),(0,i.jsxs)(d.Z,Object.assign({component:"p",sx:{mt:2}},{children:["But also ",(0,i.jsx)("b",{children:"you can add a transformation function for each property to transform the presentation"}),". For example, you trim your strings, convert Date instances into formatted strings or just delete some data from the presentation."]}))]}),tv=()=>(0,i.jsxs)(x,Object.assign({title:"Present it!"},{children:[(0,i.jsx)(ty,{}),(0,i.jsx)(w,Object.assign({items:[tj,tg,u.yH,u.Pe]},{children:(0,i.jsx)(tb,{})}))]})),tS=()=>(0,i.jsx)(c.Z,Object.assign({sx:{backgroundColor:"rgba(0,0,0,0.03)"}},{children:(0,i.jsxs)(m.ZP,Object.assign({justifyContent:"center",gap:1,container:!0,sx:{width:"1200px",m:"0 auto",p:2,maxWidth:"100%"}},{children:[(0,i.jsx)("img",{src:"https://img.shields.io/npm/v/@yoskutik/mobx-form-schema",alt:"NPM version"}),(0,i.jsx)("img",{src:"https://img.shields.io/badge/EcmaScript-v.6-blue",alt:"EcmaScript 6"}),(0,i.jsx)("img",{src:"https://raw.githubusercontent.com/Yoskutik/mobx-form-schema/master/badges/weight.svg",alt:"Weight"}),(0,i.jsx)("img",{src:"https://img.shields.io/npm/l/@yoskutik/mobx-form-schema",alt:"License"}),(0,i.jsx)("img",{src:"https://img.shields.io/snyk/vulnerabilities/npm/@yoskutik/mobx-form-schema?label=Vulnerabilities",alt:"Vulnerabilities"}),(0,i.jsx)("img",{src:"https://raw.githubusercontent.com/Yoskutik/mobx-form-schema/master/badges/coverage-jest%20coverage.svg",alt:"Coverage"}),(0,i.jsx)("img",{src:"https://github.com/Yoskutik/mobx-form-schema/actions/workflows/build.yml/badge.svg",alt:"Build"})]}))})),tO=({children:e,sx:t})=>(0,i.jsx)(d.Z,Object.assign({component:"p",sx:Object.assign({fontSize:"1.3rem"},t)},{children:e})),tw=(0,l.memo)(()=>(0,i.jsxs)(c.Z,{children:[(0,i.jsx)(tS,{}),(0,i.jsxs)(c.Z,{children:[(0,i.jsx)(p,Object.assign({style:{height:220,alignItems:"center",padding:"1rem"}},{children:(0,i.jsxs)(c.Z,Object.assign({sx:{textAlign:"center"}},{children:[(0,i.jsx)(d.Z,Object.assign({variant:"h2",component:"h1"},{children:"MobX Form Schema"})),(0,i.jsx)(d.Z,Object.assign({variant:"h5",component:"h2",sx:{mt:2}},{children:"The simple way to organize you forms!"}))]}))})),(0,i.jsx)(p,{children:(0,i.jsxs)(h.Z,Object.assign({sx:{width:"800px",p:4,maxWidth:"95vw"}},{children:[(0,i.jsxs)(tO,{children:["Mobx Form Schema is a small library that can simplify forms developing process by providing a ",(0,i.jsx)("b",{children:"Form Schema"})," concept."]}),(0,i.jsxs)(tO,Object.assign({sx:{mt:2}},{children:["MobX Form Schema gives you a convenient way to describe your form - its ",(0,i.jsx)("b",{children:"validation"}),", "," ",(0,i.jsx)("b",{children:"presentation"}),", ",(0,i.jsx)("b",{children:"initialization"})," and ",(0,i.jsx)("b",{children:"observation"}),"."]})),(0,i.jsx)("hr",{style:{width:"60%",margin:"24px auto"}}),(0,i.jsxs)(tO,{children:["The developing process of forms may be quite repetitive - fields from different forms can have same validation rules; in order to understand whether the form is changed you have to manually check all the properties; etc. And ",(0,i.jsx)("i",{children:"MobX Form Schema"})," ",(0,i.jsx)("b",{children:"can help you with it!"})]}),(0,i.jsxs)(c.Z,Object.assign({sx:{fontSize:"1.3rem",mt:2}},{children:["With ",(0,i.jsx)("i",{children:"MobX Form Schema"})," you can:",(0,i.jsxs)("ul",Object.assign({style:{marginTop:8}},{children:[(0,i.jsx)("li",{children:"simplify your validation;"}),(0,i.jsx)("li",{children:"automate changes observation;"}),(0,i.jsx)("li",{children:"configure form's presentation;"}),(0,i.jsx)("li",{children:"create rules for its initialization."})]}))]}))]}))}),(0,i.jsx)(eP,{}),(0,i.jsx)(e6,{}),(0,i.jsx)(tf,{}),(0,i.jsx)(tv,{})]})]}));var tF=tw}}]);