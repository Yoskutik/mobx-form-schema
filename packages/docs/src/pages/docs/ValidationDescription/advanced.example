import { FormSchema, validate } from '@yoskutik/mobx-form-schema';
import { observable } from 'mobx';
import { required, lengthBetween } from 'path/to/validators';

export const repeatedPassword = () => (repeated: string, schema: SignUpSchema) => {
  if (repeated === schema.password) return false;
  return 'Passwords are mismatched';
};

class SignUpSchema extends FormSchema {
  @validate(required(), lengthBetween(8, 32))
  @observable password = '';

  @validate(required(), repeatedPassword())
  @observable repeatedPassword = '';
}