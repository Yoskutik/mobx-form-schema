"use strict";(self.webpackChunk_yoskutik_react_vvm_docs=self.webpackChunk_yoskutik_react_vvm_docs||[]).push([[632],{4632:function(e,t,n){n.r(t),n.d(t,{default:function(){return tD}});var a,s,o,r=n(2322),i=n(2784),l=n(3422),c=n(3853),m=n(8434),d=n(6027),h=n(7764),f=n(9730);let u=(0,h.ZP)(l.Z)`
  background-color: rgba(0, 0, 0, 0.03);
  justify-content: center;
  padding: 32px 0;
  display: flex;
`,p=({title:e,titleActions:t,children:n})=>(0,r.jsx)(f.de,Object.assign({sx:{backgroundColor:"rgba(0, 0, 0, 0.03)",p:"32px 0"}},{children:(0,r.jsxs)(d.Z,Object.assign({sx:{maxWidth:"min(1100px, 95vw)",flexDirection:"column",display:"flex",m:"0 auto",p:{xs:2,sm:4,md:6}}},{children:[(0,r.jsxs)(f.dy,Object.assign({flexWrap:"wrap"},{children:[(0,r.jsx)(m.Z,Object.assign({variant:"h2",sx:{mr:3}},{children:e})),t]})),n]}))}));var x=n(75),b=n(124),g=n(799),j=n(5254);let y=(0,h.ZP)("div")`
  padding: 4px 8px;
  border-bottom: 1px solid transparent;
  margin-bottom: -1px;
  margin-right: 4px;
  cursor: pointer;
  color: #fff;
  
  &:hover {
    border-color: rgba(255, 255, 255, 0.5);
    background: rgba(255, 255, 255, 0.05);
  }
  
  &.active {
    background: rgba(255, 255, 255, 0.2);
    border-color: white;
  }
`,v=(0,h.ZP)(l.Z)`
  display: flex;
  padding: 16px 16px 0 16px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE and Edge */
  overflow: auto;

  &::-webkit-scrollbar {
    display: none; /* Chrome, Safari, and Opera */
  }
`,S=(0,h.ZP)(l.Z)`
  box-shadow: rgba(0, 0, 0, 0.1) 0 1px 4px 0;
  border-radius: 8px;
  margin-top: 32px;
  overflow: hidden;
  display: flex;
  
  .right-side {
    border: 1px solid rgba(0, 0, 0, 0.6);
    border-radius: 0 8px 8px 0;
    flex-shrink: 0;
    background: #fff;
    width: 300px;
    padding: 12px;
  }

  @media screen and (max-width: 1024px) {
    flex-direction: column;

    .right-side {
      border-radius: 0 0 8px 8px;
      display: flex;
      width: 100%;

      form {
        width: min(50%, 300px);
        margin-right: 20px;
      }

      & > * {
        overflow: hidden;
      }
    }
  }

  @media screen and (max-width: 464px) {
    flex-direction: column;

    .right-side {
      flex-direction: column;

      form {
        width: 100%;
        margin-right: 0;
      }
    }
  }
`,O=({items:e,children:t})=>{let[n,a]=(0,i.useState)(e[0]),s=e=>t=>{a(e);let n=t.target,s=n.parentElement;s.scroll({left:n.offsetLeft-s.offsetLeft-50,behavior:"smooth"})};return(0,r.jsxs)(S,{children:[(0,r.jsxs)(f.de,Object.assign({sx:{background:"rgb(40, 42, 54)",overflow:"hidden",flex:1}},{children:[(0,r.jsx)(v,{children:e.map(e=>(0,r.jsx)(y,Object.assign({className:e===n?"active":void 0,onClick:s(e)},{children:e.filename}),e.filename))}),(0,r.jsx)(f.oP,{code:n.code,style:{height:400,minHeight:"100%"},sx:{flex:1}})]})),(0,r.jsx)("div",Object.assign({className:"right-side"},{children:t}))]})},w=Object,F=w.keys,B=(e,t)=>F(e).forEach(e=>t(e)),k=(e,t,n)=>new Set(F(e).concat(F(t))).forEach(e=>n(e)),R="presentation",C="comparator",P=Symbol(),T=(e,t)=>Reflect.getMetadata(e,t)||{},I=(e,t,n,a,s=T(e,t),o=s[P])=>(o!==t&&(s=w.assign({},s)),s[n]=a,s[P]=t,Reflect.defineMetadata(e,s,t)),N=e=>e(),E=e=>Symbol(e),D=E("Factory"),Z=E("Watch"),V=E("Validate"),A=E(R),H=E("InitialValues"),M=E("Errors"),L=E("ChangedKeys"),z=(...e)=>{let t=(t,n)=>I(V,t,n,{validators:e});return t.if=e=>(n,a)=>{t(n,a),T(V,n)[a].condition=e},t},$=(e,t,n,a=t[n].condition,s=e[n],o)=>((!a||a(s,e))&&t[n].validators.find(t=>o=t(s,e)),W.r(()=>"string"==typeof o||!0===o?e[M][n]=o:delete e[M][n]),o),K=(e,t,n,a=t[n][C](e[n],e[H][n]))=>(W.r(()=>e[L][a?"delete":"add"](n)),a),q=(e,t,n,a,s=T(t,e))=>n?a(e,s,n):F(s).reduce((t,n)=>!!a(e,s,n)||t,!1),J=(e,t,n,a=T(Z,e))=>B(a,s=>n(e,s,a[s][t]));class W{static create(e={}){let t=new this(e),n=T(D,t);return k(n,e,a=>{n[a]?t[a]=n[a](e[a],e,t[a]):a in e&&(t[a]=e[a])}),t.sync(),t}get presentation(){let e={},t=T(A,this);return k(t,this,(n,a=t[n],s=this[n])=>{a&&a.hidden||(e[n]=a&&a[R]?a[R](s,this):s)}),e}get isChanged(){return this[L].size>0}get isValid(){return w.values(this[M]).every(e=>!e)}get errors(){return this[M]}getInitial(e){return this[H][e]}sync(){let e={};J(this,"saveFn",(t,n,a)=>e[n]=a?a(t[n],t):t[n]),this[H]=e}reset(){J(this,"restoreFn",(e,t,n,a=e[H][t])=>e[t]=n?n(a):a)}validate(e){return q(this,V,e,$)}checkChanges(e){return q(this,Z,e,K)}constructor(){this[a]={},this[s]=new Set,this[o]={}}}a=M,s=L,o=H,W.r=N;let Y=e=>(e&&e.sync(),e),_=e=>(e&&e.reset(),e),X=(e,t,n,a)=>(!e||!e.isChanged)&&(e===t||!!e&&!!t&&e.constructor===t.constructor&&((a=F(n=T(Z,e)).find(a=>!n[a][C](e[a],t[a])))&&W.r(()=>e[H]=t[H]),!a)),G=e=>(t,n)=>!!(n&&t?n.length===t.length&&t.every((t,a)=>e(t,n[a])):n===t),Q=(e,t)=>e===t,U=G(X),ee=(e,t)=>!!(e&&t&&e.size===t.size&&Array.from(e).every(e=>t.has(e))),et=G(Q),en=e=>e.slice(),ea=e=>new Set(e),es=(e,t)=>I(Z,e,t,{[C]:Q}),eo=(e,t,n)=>(a,s)=>I(Z,a,s,{[C]:e,saveFn:t,restoreFn:n});es.configure=eo,es.schema=eo(X,Y,_),es.schemasArray=eo(U,e=>e?e.map(Y):e,e=>e?e.map(_):e),es.array=eo(et,en,en),es.set=eo(ee,ea,ea);let er=e=>(t,n)=>I(D,t,n,e),ei=(e,t)=>t?e.create(t):t,el=e=>(t,n)=>er((t,a,s)=>n in a?e(t,a,s):s)(t,n);er.forSchema=e=>el(t=>ei(e,t)),er.forSchemasArray=e=>el(t=>t?t.map(t=>ei(e,t)):t),er.set=el(e=>new Set(e));let ec=e=>(t,n)=>I(A,t,n,e),em=e=>ec({[R]:e});em.hidden=ec({hidden:!0});class ed extends W{static create(e={}){let t=super.create(e),n=T(V,t),a=T(Z,t),s={[M]:x.LO,[H]:x.LO.ref,[L]:x.LO,[R]:x.Fl,isChanged:x.Fl,isValid:x.Fl,errors:x.Fl,sync:x.aD,reset:x.aD,validate:x.aD,checkChanges:x.aD};B(a,(e,n=x.LO,o)=>{(0,x.wn)(t,e)||((o=a[e][C])===X?n=x.LO.ref:(o===et||o===ee||o===U)&&(n=x.LO.shallow),s[e]=n)});try{(0,x.rC)(t,s)}catch(e){B(s,e=>!(0,x.wn)(t,e)&&s[e](t,e)),(0,x.rC)(t)}return t.sync(),this.config.manual||(B(a,(e,n)=>(0,x.N7)(t,e,()=>(n&&n(),n=(0,x.EH)(()=>K(t,a,e))),!0)),B(n,e=>(0,x.EH)(()=>$(t,n,e)))),t}}ed.config={manual:!1},W.r=x.z;let eh=()=>e=>(null==e||!e.trim())&&"This field is required",ef=()=>e=>!/\S+@\S+\.\S+/.test(e)&&"Invalid email format",eu=(e,t)=>n=>(!(n.length>=e)||!(n.length<=t))&&(n.length<e?`Should be longer than ${e} characters`:`Should be shorter than ${t} characters`);var ep=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},ex=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class eb extends ed{constructor(){super(...arguments),this.login="",this.password="",this.repeatedPassword=""}}ep([z(eh()),x.LO,ex("design:type",Object)],eb.prototype,"login",void 0),ep([z(eh(),eu(8,32)),x.LO,ex("design:type",Object)],eb.prototype,"password",void 0),ep([z(eh(),(e,t)=>e!==t.password&&"Passwords mismatched"),x.LO,ex("design:type",Object)],eb.prototype,"repeatedPassword",void 0);let eg=()=>{let e=(0,i.useMemo)(()=>eb.create(),[]),t=t=>{t.preventDefault(),alert(`Is form valid: ${e.isValid}
Errors: ${JSON.stringify(e.errors,void 0,2)}`)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("form",Object.assign({onSubmit:t,style:{marginBottom:32}},{children:[(0,r.jsx)(f.nv,{schema:e,field:"login",label:"Login"}),(0,r.jsx)(f.nv,{schema:e,field:"password",type:"password",label:"Password"}),(0,r.jsx)(f.nv,{schema:e,field:"repeatedPassword",type:"password",label:"Repeat password"}),(0,r.jsx)(f.dy,Object.assign({className:"form-footer"},{children:(0,r.jsx)(f.zx,Object.assign({type:"submit"},{children:"Submit"}))}))]})),(0,r.jsx)(f.SI,{schema:e,noChanged:!0})]})};var ej=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},ey=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class ev extends ed{constructor(){super(...arguments),this.email="",this.name="",this.wantToShareName=!1}}ej([z(ef()).if(Boolean),x.LO,ey("design:type",Object)],ev.prototype,"email",void 0),ej([z(eh()).if((e,t)=>t.wantToShareName),x.LO,ey("design:type",Object)],ev.prototype,"name",void 0),ej([x.LO,ey("design:type",Object)],ev.prototype,"wantToShareName",void 0);let eS=()=>{let e=(0,i.useMemo)(()=>ev.create(),[]),t=t=>{t.preventDefault(),alert(`Is form valid: ${e.isValid}
Errors: ${JSON.stringify(e.errors,void 0,2)}`)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("form",Object.assign({onSubmit:t,style:{marginBottom:32}},{children:[(0,r.jsx)(f.nv,{schema:e,field:"name",label:"Name"}),(0,r.jsx)(f.nv,{schema:e,field:"email",label:"E-mail"}),(0,r.jsx)(f.ji,{schema:e,field:"wantToShareName",label:"Want to share name"}),(0,r.jsx)(f.dy,Object.assign({className:"form-footer"},{children:(0,r.jsx)("button",Object.assign({type:"submit"},{children:"Submit"}))}))]})),(0,r.jsx)(f.SI,{schema:e,noChanged:!0})]})};var eO=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},ew=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class eF extends ed{constructor(){super(...arguments),this.name="",this.email=""}}eO([z(eh()),x.LO,ew("design:type",Object)],eF.prototype,"name",void 0),eO([z(eh(),ef()),x.LO,ew("design:type",Object)],eF.prototype,"email",void 0);let eB=()=>{let e=(0,i.useMemo)(()=>eF.create(),[]),t=t=>{t.preventDefault(),alert(`Is form valid: ${e.isValid}
Errors: ${JSON.stringify(e.errors,void 0,2)}`)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("form",Object.assign({onSubmit:t,style:{marginBottom:32}},{children:[(0,r.jsx)(f.nv,{schema:e,field:"name",label:"Name"}),(0,r.jsx)(f.nv,{schema:e,field:"email",label:"E-mail"}),(0,r.jsx)(f.dy,Object.assign({className:"form-footer"},{children:(0,r.jsx)("button",Object.assign({type:"submit"},{children:"Submit"}))}))]})),(0,r.jsx)(f.SI,{schema:e,noChanged:!0})]})};var ek={filename:"SimpleSchema.ts",code:"import { FormSchema, validate } from '@yoskutik/mobx-form-schema';\nimport { observable } from 'mobx';\nimport { required, email } from '../validators';\n\nexport class SimpleSchema extends FormSchema {\n  @validate(required())\n  @observable name = '';\n\n  @validate(required(), email())\n  @observable email = '';\n}"},eR={filename:"SimpleForm.tsx",code:'import React, { useMemo } from \'react\';\nimport { TextField, SchemaInformer, HFlexBox } from \'@components\';\nimport { SimpleSchema } from \'./SimpleSchema\';\n\nexport const SimpleForm = () => {\n  const schema = useMemo(() => SimpleSchema.create(), []);\n\n  const handleSubmit = (evt: React.FormEvent) => {\n    evt.preventDefault();\n    alert(\n      `Is form valid: ${schema.isValid}\\n` +\n      `Errors: ${JSON.stringify(schema.errors, undefined, 2)}`\n    );\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} style={{ marginBottom: 32 }}>\n        <TextField schema={schema} field="name" label="Name" />\n        <TextField schema={schema} field="email" label="E-mail" />\n\n        <HFlexBox className="form-footer">\n          <button type="submit">Submit</button>\n        </HFlexBox>\n      </form>\n\n      <SchemaInformer schema={schema} noChanged />\n    </>\n  );\n}'},eC={filename:"AdvancedForm.tsx",code:'import React, { useMemo } from \'react\';\nimport { TextField, SchemaInformer, HFlexBox, Button } from \'@components\';\nimport { AdvancedSchema } from \'./AdvancedSchema\';\n\nexport const AdvancedForm = () => {\n  const schema = useMemo(() => AdvancedSchema.create(), []);\n\n  const handleSubmit = (evt: React.FormEvent) => {\n    evt.preventDefault();\n    alert(\n      `Is form valid: ${schema.isValid}\\n` +\n      `Errors: ${JSON.stringify(schema.errors, undefined, 2)}`\n    );\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} style={{ marginBottom: 32 }}>\n        <TextField schema={schema} field="login" label="Login" />\n        <TextField schema={schema} field="password" type="password" label="Password" />\n        <TextField schema={schema} field="repeatedPassword" type="password" label="Repeat password" />\n\n        <HFlexBox className="form-footer">\n          <Button type="submit">Submit</Button>\n        </HFlexBox>\n      </form>\n\n      <SchemaInformer schema={schema} noChanged />\n    </>\n  );\n}'},eP={filename:"AdvancedSchema.ts",code:"import { FormSchema, validate } from '@yoskutik/mobx-form-schema';\nimport { observable } from 'mobx';\nimport { required, lengthBetween } from '../validators';\n\nconst repeatedPassword = () => (repeated: string, schema: AdvancedSchema) => {\n  if (repeated === schema.password) return false;\n  return 'Passwords mismatched';\n};\n\nexport class AdvancedSchema extends FormSchema {\n  @validate(required())\n  @observable login = '';\n\n  @validate(required(), lengthBetween(8, 32))\n  @observable password = '';\n\n  @validate(required(), repeatedPassword())\n  @observable repeatedPassword = '';\n}"},eT={filename:"ConditionalSchema.ts",code:"import { FormSchema, validate } from '@yoskutik/mobx-form-schema';\nimport { observable } from 'mobx';\nimport { email, required } from '../validators';\n\nconst shouldValidateName = (_name: string, schema: ConditionalSchema) =>\n  schema.wantToShareName;\n\nexport class ConditionalSchema extends FormSchema {\n  @validate(email()).if(Boolean)  // or .if(email => !!email)\n  @observable email = '';\n\n  @validate(required()).if(shouldValidateName)\n  @observable name = '';\n\n  @observable wantToShareName = false;\n}"},eI={filename:"ConditionalForm.tsx",code:'import React, { useMemo } from \'react\';\nimport { TextField, SchemaInformer, CheckboxField, HFlexBox } from \'@components\';\nimport { ConditionalSchema } from \'./ConditionalSchema\';\n\nexport const ConditionalForm = () => {\n  const schema = useMemo(() => ConditionalSchema.create(), []);\n\n  const handleSubmit = (evt: React.FormEvent) => {\n    evt.preventDefault();\n    alert(\n      `Is form valid: ${schema.isValid}\\n` +\n      `Errors: ${JSON.stringify(schema.errors, undefined, 2)}`\n    );\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} style={{ marginBottom: 32 }}>\n        <TextField schema={schema} field="name" label="Name" />\n        <TextField schema={schema} field="email" label="E-mail" />\n        <CheckboxField schema={schema} field="wantToShareName" label="Want to share name" />\n\n        <HFlexBox className="form-footer">\n          <button type="submit">Submit</button>\n        </HFlexBox>\n      </form>\n\n      <SchemaInformer schema={schema} noChanged />\n    </>\n  );\n}'},eN={filename:"validators.ts",code:"// Shared file\n\nexport const required = () => (value?: string) => {\n  if (value?.trim()) return false;\n  return 'This field is required';\n};\n\nexport const email = () => (value: string) => {\n  if (/\\S+@\\S+\\.\\S+/.test(value)) return false;\n  return 'Invalid email format';\n};\n\nexport const lengthBetween = (min: number, max: number) => (value: string) => {\n  if (value.length >= min && value.length <= max) return false;\n  if (value.length < min) return `Should be longer than ${min} characters`;\n  return `Should be shorter than ${max} characters`;\n};"},eE=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},eD=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let eZ=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:4}},{children:["You can easily ",(0,r.jsx)("b",{children:"apply any validation function"})," to any field of your form - just use ",(0,r.jsx)(f.EK,{children:"@validate"})," decorator. You can also apply ",(0,r.jsx)("b",{children:"several functions"})," in order to get different error messages for different validation rules."]})),(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:2}},{children:["You can not only ",(0,r.jsx)("b",{children:"access the error messages"})," but also ",(0,r.jsx)("b",{children:"understand whether the entire form is valid"})," or not."]})),(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:2}},{children:["And the most cool part - the ",(0,r.jsx)("b",{children:"validation is applied automatically"}),", when the value of the field is changed."]})),(0,r.jsx)(m.Z,Object.assign({component:"p",sx:{mt:2}},{children:"You can look at the example below to see how MobX Form Schema can be used in React."}))]}),eV=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:4}},{children:["Inside a validation function you can use not just the current value, but actually also ",(0,r.jsx)("b",{children:"entire form as well"}),". It is useful if the validation is depends on other field's value. For example, if you want to make sure that repeated password is equal to the original one."]})),(0,r.jsx)(m.Z,Object.assign({component:"p",sx:{mt:2}},{children:"And it completely automatic as well. In the passwords example the validation will be applied whenever the password or repeated password is changed."}))]}),eA=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:4}},{children:["The validation ",(0,r.jsx)("b",{children:"can be applied conditionally"}),". It can be useful in several cases, like turning off the validation for optional fields, if they don't have any value. As it works in the example below - the validation for ",(0,r.jsx)(f.EK,{children:"email"})," field will be applied only if it's not empty."]})),(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:2}},{children:["And you can also ",(0,r.jsx)("b",{children:"make the condition based on any other field"})," as well. It can be useful, if the condition is based on some other properties of your form. Just as it works in the example below - the validation for ",(0,r.jsx)(f.EK,{children:"name"})," field will be applied only when ",(0,r.jsx)("i",{children:'"What to share name"'})," checkbox is checked."]})),(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:2}},{children:["To enable conditional validation simply apply ",(0,r.jsx)(f.EK,{children:"@validate(...).if"})," decorator."]}))]});class eH extends b.ViewModel{constructor(){super(),this.toggleValue="simple",this.handleToggleChange=(e,t)=>{t&&(this.toggleValue=t)},(0,x.rC)(this)}}eE([x.LO,eD("design:type",String)],eH.prototype,"toggleValue",void 0),eE([x.aD,eD("design:type",Object)],eH.prototype,"handleToggleChange",void 0);let eM=(0,b.view)(eH)(({viewModel:e})=>(0,r.jsxs)(p,Object.assign({title:"Validate it!",titleActions:(0,r.jsxs)(g.Z,Object.assign({value:e.toggleValue,color:"secondary",size:"small",exclusive:!0,onChange:e.handleToggleChange},{children:[(0,r.jsx)(j.Z,Object.assign({value:"simple"},{children:"Simple"})),(0,r.jsx)(j.Z,Object.assign({value:"advanced"},{children:"Advanced"})),(0,r.jsx)(j.Z,Object.assign({value:"conditional"},{children:"Conditional"}))]}))},{children:["simple"===e.toggleValue&&(0,r.jsx)(eZ,{}),"advanced"===e.toggleValue&&(0,r.jsx)(eV,{}),"conditional"===e.toggleValue&&(0,r.jsx)(eA,{}),"simple"===e.toggleValue&&(0,r.jsx)(O,Object.assign({items:[ek,eR,eN,f.yH,f.Pe]},{children:(0,r.jsx)(eB,{})})),"advanced"===e.toggleValue&&(0,r.jsx)(O,Object.assign({items:[eP,eC,eN,f.yH,f.Pe]},{children:(0,r.jsx)(eg,{})})),"conditional"===e.toggleValue&&(0,r.jsx)(O,Object.assign({items:[eT,eI,eN,f.yH,f.NH,f.Pe]},{children:(0,r.jsx)(eS,{})}))]})));var eL=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},ez=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class e$ extends ed{constructor(){super(...arguments),this.name="",this.surname="",this.email=""}}eL([es,ez("design:type",Object)],e$.prototype,"name",void 0),eL([es,ez("design:type",Object)],e$.prototype,"surname",void 0),eL([es,ez("design:type",Object)],e$.prototype,"email",void 0);let eK=()=>{let e=(0,i.useMemo)(()=>e$.create(),[]),t=t=>{t.preventDefault(),alert(`Is form changed: ${e.isChanged}`)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("form",Object.assign({onSubmit:t,style:{marginBottom:32}},{children:[(0,r.jsx)(f.nv,{schema:e,field:"name",label:"Name"}),(0,r.jsx)(f.nv,{schema:e,field:"surname",label:"Surname"}),(0,r.jsx)(f.nv,{schema:e,field:"email",label:"E-mail"}),(0,r.jsxs)(f.dy,Object.assign({className:"form-footer"},{children:[(0,r.jsx)(f.zx,Object.assign({type:"submit"},{children:"Submit"})),(0,r.jsx)(f.zx,Object.assign({onClick:()=>e.sync()},{children:"Save"})),(0,r.jsx)(f.zx,Object.assign({onClick:()=>e.reset()},{children:"Restore"}))]}))]})),(0,r.jsx)(f.SI,{schema:e,noErrors:!0})]})},eq=()=>{let e=(0,i.useMemo)(()=>e$.create({name:"Initial name",surname:"Initial surname",email:"initial@email.com"}),[]),t=t=>{t.preventDefault(),alert(`Is form changed: ${e.isChanged}`)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("form",Object.assign({onSubmit:t,style:{marginBottom:32}},{children:[(0,r.jsx)(f.nv,{schema:e,field:"name",label:"Name"}),(0,r.jsx)(f.nv,{schema:e,field:"surname",label:"Surname"}),(0,r.jsx)(f.nv,{schema:e,field:"email",label:"E-mail"}),(0,r.jsxs)(f.dy,Object.assign({className:"form-footer"},{children:[(0,r.jsx)(f.zx,Object.assign({type:"submit"},{children:"Submit"})),(0,r.jsx)(f.zx,Object.assign({onClick:()=>e.sync()},{children:"Save"})),(0,r.jsx)(f.zx,Object.assign({onClick:()=>e.reset()},{children:"Restore"}))]}))]})),(0,r.jsx)(f.SI,{schema:e,noErrors:!0})]})};var eJ=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},eW=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class eY extends ed{constructor(){super(...arguments),this.skillSet=new Set,this.skillArray=[]}}eJ([es.set,eW("design:type",Object)],eY.prototype,"skillSet",void 0),eJ([es.array,eW("design:type",Array)],eY.prototype,"skillArray",void 0);let e_=()=>{let e=(0,i.useMemo)(()=>eY.create({skillSet:new Set(["JavaScript","HTML","CSS"]),skillArray:["JavaScript","HTML","CSS"]}),[]),t=t=>{t.preventDefault(),alert(`Is form changed: ${e.isChanged}`)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("form",Object.assign({onSubmit:t,style:{marginBottom:32}},{children:[(0,r.jsx)(f.IG,{schema:e,field:"skillSet",label:"Skills as set"}),(0,r.jsx)(f.IG,{schema:e,field:"skillArray",label:"Skills as array"}),(0,r.jsxs)(f.dy,Object.assign({className:"form-footer"},{children:[(0,r.jsx)(f.zx,Object.assign({type:"submit"},{children:"Submit"})),(0,r.jsx)(f.zx,Object.assign({onClick:()=>e.sync()},{children:"Save"})),(0,r.jsx)(f.zx,Object.assign({onClick:()=>e.reset()},{children:"Restore"}))]}))]})),(0,r.jsx)(f.SI,{schema:e,noErrors:!0})]})};var eX=n(7973),eG=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},eQ=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class eU extends ed{constructor(){super(...arguments),this.email="",this.tel=""}}eG([es,eQ("design:type",Object)],eU.prototype,"email",void 0),eG([es,eQ("design:type",Object)],eU.prototype,"tel",void 0);class e0 extends ed{constructor(){super(...arguments),this.name="",this.surname=""}}eG([es,eQ("design:type",Object)],e0.prototype,"name",void 0),eG([es,eQ("design:type",Object)],e0.prototype,"surname",void 0);class e2 extends ed{constructor(){super(...arguments),this.contacts=eU.create(),this.relatives=[]}}eG([es.schema,eQ("design:type",Object)],e2.prototype,"contacts",void 0),eG([es.schemasArray,eQ("design:type",Array)],e2.prototype,"relatives",void 0);let e3=(0,eX.Pi)(()=>{let e=(0,i.useMemo)(()=>e2.create({contacts:eU.create({email:"yoskutik@gmail.com"}),relatives:[e0.create({name:"Name 1",surname:"Surname 1"}),e0.create({name:"Name 2",surname:"Surname 2"})]}),[]),t=t=>{t.preventDefault(),alert(`Is form changed: ${e.isChanged}`)},n=(0,x.aD)(()=>{e.relatives.push(e0.create())}),a=(0,x.aD)(t=>{e.relatives.splice(t,1)});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("form",Object.assign({onSubmit:t,style:{marginBottom:32}},{children:[(0,r.jsx)("b",{children:"Contacts"}),(0,r.jsx)(f.nv,{schema:e.contacts,field:"email",label:"E-mail"}),(0,r.jsx)(f.nv,{schema:e.contacts,field:"tel",label:"Phone number"}),(0,r.jsxs)(f.dy,Object.assign({style:{marginTop:16}},{children:[(0,r.jsx)("b",{children:"Relatives"}),(0,r.jsx)(f.zx,Object.assign({onClick:n,size:"s"},{children:"Add"}))]})),e.relatives.map((e,t)=>(0,r.jsxs)(f.de,Object.assign({style:{marginTop:12}},{children:[(0,r.jsxs)(f.dy,{children:[(0,r.jsxs)("span",{children:["Relative: #",t+1]}),(0,r.jsx)(f.zx,Object.assign({onClick:()=>a(t),size:"s"},{children:"Delete"}))]}),(0,r.jsx)(f.nv,{schema:e,field:"name",label:"Name"}),(0,r.jsx)(f.nv,{schema:e,field:"surname",label:"Surname"})]}),t)),(0,r.jsxs)(f.dy,Object.assign({className:"form-footer"},{children:[(0,r.jsx)(f.zx,Object.assign({type:"submit"},{children:"Submit"})),(0,r.jsx)(f.zx,Object.assign({onClick:()=>e.sync()},{children:"Save"})),(0,r.jsx)(f.zx,Object.assign({onClick:()=>e.reset()},{children:"Restore"}))]}))]})),(0,r.jsx)(f.SI,{schema:e,noErrors:!0})]})});var e1={filename:"BasicForm.tsx",code:'import React, { useMemo } from \'react\';\nimport { Button, HFlexBox, SchemaInformer, TextField } from \'@components\';\nimport { BasicSchema } from \'./BasicSchema\';\n\nexport const BasicForm = () => {\n  const schema = useMemo(() => BasicSchema.create(), []);\n\n  const handleSubmit = (evt: React.FormEvent) => {\n    evt.preventDefault();\n    alert(`Is form changed: ${schema.isChanged}`);\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} style={{ marginBottom: 32 }}>\n        <TextField schema={schema} field="name" label="Name" />\n        <TextField schema={schema} field="surname" label="Surname" />\n        <TextField schema={schema} field="email" label="E-mail" />\n\n        <HFlexBox className="form-footer">\n          <Button type="submit">Submit</Button>\n          <Button onClick={() => schema.sync()}>Save</Button>\n          <Button onClick={() => schema.reset()}>Restore</Button>\n        </HFlexBox>\n      </form>\n\n      <SchemaInformer schema={schema} noErrors />\n    </>\n  );\n}'},e5={filename:"BasicSchema.ts",code:"import { FormSchema, watch } from '@yoskutik/mobx-form-schema';\n\nexport class BasicSchema extends FormSchema {\n  @watch name = '';\n\n  @watch surname = '';\n\n  @watch email = '';\n}"},e4={filename:"PredefinedForm.tsx",code:'import React, { useMemo } from \'react\';\nimport { Button, HFlexBox, SchemaInformer, TextField } from \'@components\';\nimport { BasicSchema } from \'../basic/BasicSchema\';\n\nexport const PredefinedForm = () => {\n  const schema = useMemo(() => (\n    BasicSchema.create({\n      name: \'Initial name\',\n      surname: \'Initial surname\',\n      email: \'initial@email.com\',\n    })\n  ), []);\n\n  const handleSubmit = (evt: React.FormEvent) => {\n    evt.preventDefault();\n    alert(`Is form changed: ${schema.isChanged}`);\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} style={{ marginBottom: 32 }}>\n        <TextField schema={schema} field="name" label="Name" />\n        <TextField schema={schema} field="surname" label="Surname" />\n        <TextField schema={schema} field="email" label="E-mail" />\n\n        <HFlexBox className="form-footer">\n          <Button type="submit">Submit</Button>\n          <Button onClick={() => schema.sync()}>Save</Button>\n          <Button onClick={() => schema.reset()}>Restore</Button>\n        </HFlexBox>\n      </form>\n\n      <SchemaInformer schema={schema} noErrors />\n    </>\n  );\n}'},e8={filename:"SetsNArraysForm.tsx",code:"import React, { useEffect, useMemo } from 'react';\nimport { Button, ChoiceField, HFlexBox, SchemaInformer } from '@components';\nimport { SetsNArraysSchema } from './SetsNArraysSchema';\n\nexport const SetsNArraysForm = () => {\n  const schema = useMemo(() => (\n    SetsNArraysSchema.create({\n      skillSet: new Set(['JavaScript', 'HTML', 'CSS']),\n      skillArray: ['JavaScript', 'HTML', 'CSS'],\n    })\n  ), []);\n\n  const handleSubmit = (evt: React.FormEvent) => {\n    evt.preventDefault();\n    alert(`Is form changed: ${schema.isChanged}`);\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} style={{ marginBottom: 32 }}>\n        <ChoiceField schema={schema} field=\"skillSet\" label=\"Skills as set\" />\n        <ChoiceField schema={schema} field=\"skillArray\" label=\"Skills as array\" />\n\n        <HFlexBox className=\"form-footer\">\n          <Button type=\"submit\">Submit</Button>\n          <Button onClick={() => schema.sync()}>Save</Button>\n          <Button onClick={() => schema.reset()}>Restore</Button>\n        </HFlexBox>\n      </form>\n\n      <SchemaInformer schema={schema} noErrors />\n    </>\n  );\n}"},e6={filename:"SetsNArraysSchema.ts",code:"import { FormSchema, watch } from '@yoskutik/mobx-form-schema';\nimport { observable } from 'mobx';\n\nexport class SetsNArraysSchema extends FormSchema {\n  @watch.set skillSet = new Set<string>();\n\n  @watch.array skillArray: string[] = [];\n}"},e7={filename:"NestedSchemasSchema.ts",code:"import { FormSchema, watch } from '@yoskutik/mobx-form-schema';\nimport { observable } from 'mobx';\n\nexport class ContactsSchema extends FormSchema {\n  @watch email = '';\n\n  @watch tel = '';\n}\n\nexport class RelativeSchema extends FormSchema {\n  @watch name = '';\n\n  @watch surname = '';\n}\n\nexport class NestedSchemasSchema extends FormSchema {\n  @watch.schema contacts = ContactsSchema.create();\n\n  @watch.schemasArray relatives: RelativeSchema[] = [];\n}"},e9={filename:"NestedSchemasForm.tsx",code:'import React, { useMemo } from \'react\';\nimport { action } from \'mobx\';\nimport { observer } from \'mobx-react\';\nimport { Button, HFlexBox, SchemaInformer, TextField, VFlexBox } from \'@components\';\nimport { ContactsSchema, NestedSchemasSchema, RelativeSchema } from \'./NestedSchemasSchema\';\n\nexport const NestedSchemasForm = observer(() => {\n  const schema = useMemo(() => (\n    NestedSchemasSchema.create({\n      contacts: ContactsSchema.create({\n        email: \'yoskutik@gmail.com\',\n      }),\n      relatives: [\n        RelativeSchema.create({\n          name: \'Name 1\',\n          surname: \'Surname 1\',\n        }),\n        RelativeSchema.create({\n          name: \'Name 2\',\n          surname: \'Surname 2\',\n        }),\n      ],\n    })\n  ), []);\n\n  const handleSubmit = (evt: React.FormEvent) => {\n    evt.preventDefault();\n    alert(`Is form changed: ${schema.isChanged}`);\n  };\n\n  const handleAddClick = action(() => {\n    schema.relatives.push(RelativeSchema.create());\n  });\n\n  const handleDeleteClick = action((i: number) => {\n    schema.relatives.splice(i, 1);\n  });\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} style={{ marginBottom: 32 }}>\n        <b>Contacts</b>\n        <TextField schema={schema.contacts} field="email" label="E-mail" />\n        <TextField schema={schema.contacts} field="tel" label="Phone number" />\n\n        <HFlexBox style={{ marginTop: 16 }}>\n          <b>Relatives</b>\n          <Button onClick={handleAddClick} size="s">Add</Button>\n        </HFlexBox>\n\n        {schema.relatives.map((it, i) => (\n          <VFlexBox key={i} style={{ marginTop: 12 }}>\n            <HFlexBox>\n              <span>Relative: #{i + 1}</span>\n              <Button onClick={() => handleDeleteClick(i)} size="s">\n                Delete\n              </Button>\n            </HFlexBox>\n            <TextField schema={it} field="name" label="Name" />\n            <TextField schema={it} field="surname" label="Surname" />\n          </VFlexBox>\n        ))}\n\n        <HFlexBox className="form-footer">\n          <Button type="submit">Submit</Button>\n          <Button onClick={() => schema.sync()}>Save</Button>\n          <Button onClick={() => schema.reset()}>Restore</Button>\n        </HFlexBox>\n      </form>\n\n      <SchemaInformer schema={schema} noErrors />\n    </>\n  );\n})'},te=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},tt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let tn=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:4}},{children:["With ",(0,r.jsx)("i",{children:"MobX Form Schema"})," you can ",(0,r.jsx)("b",{children:"understand whether the content of your form is changed"}),". It can be useful, if you want to disable submit availability if the form is not changed. Simply apply ",(0,r.jsx)(f.EK,{children:"@watch"})," decorator to the fields you want to observe for changes."]})),(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:2}},{children:["If you use ",(0,r.jsx)(f.EK,{children:"@watch"}),", the ",(0,r.jsx)(f.EK,{children:"@observable"})," will be applied automatically, so you don't need to use them both. But if you want to use any other observable modifier you must apply it explicitly, like so: ",(0,r.jsx)(f.EK,{children:"@watch @observable.ref"}),"."]})),(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:2}},{children:["Also, applying ",(0,r.jsx)(f.EK,{children:"@watch.schema"})," will apply ",(0,r.jsx)(f.EK,{children:"@observable.ref"})," and applying ",(0,r.jsx)(f.EK,{children:"@watch.schemasArray"})," will apply ",(0,r.jsx)(f.EK,{children:"@observable.shallow"}),"."]}))]}),ta=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:4}},{children:[(0,r.jsx)("b",{children:"It also works with predefined values"}),". And that's extremely helpful, if there's an option to edit forms with predefined values in your project."]})),(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:2}},{children:["Also, with ",(0,r.jsx)(f.EK,{children:"@watch"}),' decorator you can also restore your form into the initial state or save the current state as the initial - you can try clicking "Save" and "Restore" buttons in the example below.']}))]}),ts=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:4}},{children:["You can observe not only primitive values, but also ",(0,r.jsx)("b",{children:"sets or arrays"})," of primitive values. It can be useful, if you have fields for choosing several items. Simply apply ",(0,r.jsx)(f.EK,{children:"@watch.set"})," or ",(0,r.jsx)(f.EK,{children:"@watch.array"})," decorator to enable set or array observation."]})),(0,r.jsx)(m.Z,Object.assign({component:"p",sx:{mt:2}},{children:'In the demo below you can try to add or delete some skills. In case of "Skills as set" field - it won\'t be considered changed as long as the final set contains all the values from the initial one. In case of "Skills as array" the items must be at the same position as they are in the initial array to be consider the same.'}))]}),to=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:4}},{children:["Actually, with ",(0,r.jsx)("i",{children:"MobX Form Schema"})," you can always understand whether the form was changed and restore it to the initial state. Even, if you have complex structures in your schemas. You can just use one form schema inside another one."]})),(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:2}},{children:["You can apply ",(0,r.jsx)(f.EK,{children:"@watch.schema"})," decorator, if you want to observe nested schema for changes. You can apply ",(0,r.jsx)(f.EK,{children:"@watch.schemasArray"})," decorator, if you want to observe an array of nested schema for changes."]})),(0,r.jsx)(m.Z,Object.assign({component:"p",sx:{mt:2}},{children:"You can try the demo below. No matter how much data you add, delete or change, as long as the current state is the same as the initial one, the form will not be considered changed. You can try it yourself - for example, you can delete a block for last relative, add one, and then fill it with the same content."}))]});class tr extends b.ViewModel{constructor(){super(),this.toggleValue="basic",this.handleToggleChange=(e,t)=>{t&&(this.toggleValue=t)},(0,x.rC)(this)}}te([x.LO,tt("design:type",String)],tr.prototype,"toggleValue",void 0),te([x.aD,tt("design:type",Object)],tr.prototype,"handleToggleChange",void 0);let ti=(0,b.view)(tr)(({viewModel:e})=>(0,r.jsxs)(p,Object.assign({title:"Observe it!",titleActions:(0,r.jsxs)(g.Z,Object.assign({value:e.toggleValue,color:"secondary",size:"small",exclusive:!0,onChange:e.handleToggleChange},{children:[(0,r.jsx)(j.Z,Object.assign({value:"basic"},{children:"Basic"})),(0,r.jsx)(j.Z,Object.assign({value:"predefined"},{children:"Predefined"})),(0,r.jsx)(j.Z,Object.assign({value:"sets-n-arrays"},{children:"Sets & Arrays"})),(0,r.jsx)(j.Z,Object.assign({value:"nested-schemas"},{children:"Nested schemas"}))]}))},{children:["basic"===e.toggleValue&&(0,r.jsx)(tn,{}),"predefined"===e.toggleValue&&(0,r.jsx)(ta,{}),"sets-n-arrays"===e.toggleValue&&(0,r.jsx)(ts,{}),"nested-schemas"===e.toggleValue&&(0,r.jsx)(to,{}),["basic","predefined"].includes(e.toggleValue)&&(0,r.jsx)(O,Object.assign({items:[e5,"basic"===e.toggleValue?e1:e4,f.yH,f.Pe]},{children:"basic"===e.toggleValue?(0,r.jsx)(eK,{}):(0,r.jsx)(eq,{})})),"sets-n-arrays"===e.toggleValue&&(0,r.jsx)(O,Object.assign({items:[e6,e8,f.d6,f.Pe]},{children:(0,r.jsx)(e_,{})})),"nested-schemas"===e.toggleValue&&(0,r.jsx)(O,Object.assign({items:[e7,e9,f.yH,f.Pe]},{children:(0,r.jsx)(e3,{})}))]})));var tl=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},tc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class tm extends ed{constructor(){super(...arguments),this.field1="Default value 1",this.field2="Default value 2"}}tl([x.LO,tc("design:type",Object)],tm.prototype,"field1",void 0),tl([x.LO,tc("design:type",Object)],tm.prototype,"field2",void 0);let td=()=>{let e=(0,i.useMemo)(()=>tm.create({field2:"Value from backend"}),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("form",Object.assign({onSubmit:e=>e.preventDefault(),style:{marginBottom:32}},{children:[(0,r.jsx)(f.nv,{schema:e,field:"field1",label:"Field1"}),(0,r.jsx)(f.nv,{schema:e,field:"field2",label:"Field2"}),(0,r.jsx)(f.dy,Object.assign({className:"form-footer"},{children:(0,r.jsx)(f.zx,Object.assign({type:"submit"},{children:"Submit"}))}))]})),(0,r.jsx)(f.SI,{schema:e,noErrors:!0,noChanged:!0})]})};class th extends ed{constructor(){super(...arguments),this.datetime=new Date}}!function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);o>3&&r&&Object.defineProperty(t,n,r)}([er(e=>new Date(e)),x.LO,function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:type",Object)],th.prototype,"datetime",void 0);let tf=(0,eX.Pi)(()=>{let e=(0,i.useMemo)(()=>th.create({datetime:"2023-01-01T00:00:00.000Z"}),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("form",Object.assign({onSubmit:e=>e.preventDefault(),style:{marginBottom:32}},{children:[(0,r.jsx)(f.to,{schema:e,field:"datetime",label:"Field1"}),(0,r.jsxs)("div",Object.assign({style:{marginTop:8}},{children:["Is datetime an instance of Date: ",(e.datetime instanceof Date).toString()]})),(0,r.jsx)(f.dy,Object.assign({className:"form-footer"},{children:(0,r.jsx)(f.zx,Object.assign({type:"submit"},{children:"Submit"}))}))]})),(0,r.jsx)(f.SI,{schema:e,noErrors:!0,noChanged:!0})]})});var tu={filename:"DefaultForm.tsx",code:'import React, { useMemo } from \'react\';\nimport { Button, HFlexBox, SchemaInformer, TextField } from \'@components\';\nimport { DefaultSchema } from \'./DefaultSchema\';\n\nexport const DefaultForm = () => {\n  const schema = useMemo(() => (\n    DefaultSchema.create({\n      field2: \'Value from backend\',\n    })\n  ), []);\n\n  return (\n    <>\n      <form onSubmit={evt => evt.preventDefault()} style={{ marginBottom: 32 }}>\n        <TextField schema={schema} field="field1" label="Field1"/>\n        <TextField schema={schema} field="field2" label="Field2"/>\n\n        <HFlexBox className="form-footer">\n          <Button type="submit">Submit</Button>\n        </HFlexBox>\n      </form>\n\n      <SchemaInformer schema={schema} noErrors noChanged />\n    </>\n  );\n}'},tp={filename:"DefaultSchema.ts",code:"import { FormSchema } from '@yoskutik/mobx-form-schema';\nimport { observable } from 'mobx';\n\nexport class DefaultSchema extends FormSchema {\n  @observable field1 = 'Default value 1';\n\n  @observable field2 = 'Default value 2';\n}"},tx={filename:"TransformForm.tsx",code:"import React, { useMemo } from 'react';\nimport { observer } from 'mobx-react';\nimport { Button, HFlexBox, SchemaInformer, DatetimeLocalField } from '@components';\nimport { TransformSchema } from './TransformSchema';\n\nexport const TransformForm = observer(() => {\n  const schema = useMemo(() => (\n    TransformSchema.create({\n      datetime: '2023-01-01T00:00:00.000Z',\n    })\n  ), []);\n\n  return (\n    <>\n      <form onSubmit={evt => evt.preventDefault()} style={{ marginBottom: 32 }}>\n        <DatetimeLocalField schema={schema} field=\"datetime\" label=\"Field1\"/>\n\n        <div style={{ marginTop: 8 }}>\n          Is datetime an instance of Date: {(schema.datetime instanceof Date).toString()}\n        </div>\n\n        <HFlexBox className=\"form-footer\">\n          <Button type=\"submit\">Submit</Button>\n        </HFlexBox>\n      </form>\n\n      <SchemaInformer schema={schema} noErrors noChanged />\n    </>\n  );\n})"},tb={filename:"TransformSchema.ts",code:"import { factory, FormSchema } from '@yoskutik/mobx-form-schema';\nimport { observable } from 'mobx';\n\nexport class TransformSchema extends FormSchema {\n  @factory(datetime => new Date(datetime))\n  @observable datetime = new Date();\n}"},tg=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},tj=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let ty=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:4}},{children:["With ",(0,r.jsx)("i",{children:"MobX Form Schema"})," you can also tell how your form should be initialized with specific data. In the examples above you've already seen, how any form schema can be created with predefined values."]})),(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:2}},{children:["In your schema you can set default values for your fields. And also you can pass the data into ",(0,r.jsx)(f.EK,{children:"create"})," static method."]})),(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:2}},{children:["By the way, you don't have to call ",(0,r.jsx)(f.EK,{children:"makeObservable"})," function in the constructor of the schema, because it will be called in the ",(0,r.jsx)(f.EK,{children:"create"})," static method. But if you have to call it, for example to create reaction in the constructor, you can safely to it - there will be no errors."]}))]}),tv=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:4}},{children:["By default, all the data passed into ",(0,r.jsx)(f.EK,{children:"create"})," static method is applied into your form without any transformation. But it may be useful to transform the data from the server, so it become easier to handle it. For example, if you want to convert date ISO string into ",(0,r.jsx)(f.EK,{children:"Date"})," instance."]})),(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:2}},{children:["To add transform function for any property you should apply ",(0,r.jsx)(f.EK,{children:"@factory"})," decorator."]}))]});class tS extends b.ViewModel{constructor(){super(),this.toggleValue="default",this.handleToggleChange=(e,t)=>{t&&(this.toggleValue=t)},(0,x.rC)(this)}}tg([x.LO,tj("design:type",String)],tS.prototype,"toggleValue",void 0),tg([x.aD,tj("design:type",Object)],tS.prototype,"handleToggleChange",void 0);let tO=(0,b.view)(tS)(({viewModel:e})=>(0,r.jsxs)(p,Object.assign({title:"Initialize it!",titleActions:(0,r.jsxs)(g.Z,Object.assign({value:e.toggleValue,color:"secondary",size:"small",exclusive:!0,onChange:e.handleToggleChange},{children:[(0,r.jsx)(j.Z,Object.assign({value:"default"},{children:"Default"})),(0,r.jsx)(j.Z,Object.assign({value:"with-transform"},{children:"With transformation"}))]}))},{children:["default"===e.toggleValue&&(0,r.jsx)(ty,{}),"with-transform"===e.toggleValue&&(0,r.jsx)(tv,{}),"default"===e.toggleValue&&(0,r.jsx)(O,Object.assign({items:[tp,tu,f.yH,f.Pe]},{children:(0,r.jsx)(td,{})})),"with-transform"===e.toggleValue&&(0,r.jsx)(O,Object.assign({items:[tb,tx,f.A5,f.Pe]},{children:(0,r.jsx)(tf,{})}))]})));var tw=function(e,t,n,a){var s,o=arguments.length,r=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},tF=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class tB extends ed{constructor(){super(...arguments),this.name="",this.login="",this.password="",this.repeatedPassword=""}}tw([em(e=>null==e?void 0:e.trim()),x.LO,tF("design:type",Object)],tB.prototype,"name",void 0),tw([z(eh()),x.LO,tF("design:type",Object)],tB.prototype,"login",void 0),tw([z(eh(),eu(8,32)),x.LO,tF("design:type",Object)],tB.prototype,"password",void 0),tw([em.hidden,z(eh(),(e,t)=>e!==t.password&&"Passwords mismatched"),x.LO,tF("design:type",Object)],tB.prototype,"repeatedPassword",void 0);let tk=()=>{let e=(0,i.useMemo)(()=>tB.create(),[]),t=t=>{t.preventDefault(),alert(`Presentation: ${JSON.stringify(e.presentation,void 0,2)}`)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("form",Object.assign({onSubmit:t,style:{marginBottom:32}},{children:[(0,r.jsx)(f.nv,{schema:e,field:"name",label:"Name"}),(0,r.jsx)(f.nv,{schema:e,field:"login",label:"Login"}),(0,r.jsx)(f.nv,{schema:e,field:"password",type:"password",label:"Password"}),(0,r.jsx)(f.nv,{schema:e,field:"repeatedPassword",type:"password",label:"Repeat password"}),(0,r.jsx)(f.dy,Object.assign({className:"form-footer"},{children:(0,r.jsx)(f.zx,Object.assign({type:"submit"},{children:"Submit"}))}))]})),(0,r.jsx)(f.SI,{schema:e,noChanged:!0})]})};var tR={filename:"PresentationForm.tsx",code:'import React, { useMemo } from \'react\';\nimport { TextField, SchemaInformer, HFlexBox, Button } from \'@components\';\nimport { PresentationSchema } from \'./PresentationSchema\';\n\nexport const PresentationForm = () => {\n  const schema = useMemo(() => PresentationSchema.create(), []);\n\n  const handleSubmit = (evt: React.FormEvent) => {\n    evt.preventDefault();\n    alert(`Presentation: ${JSON.stringify(schema.presentation, undefined, 2)}`);\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} style={{ marginBottom: 32 }}>\n        <TextField schema={schema} field="name" label="Name" />\n        <TextField schema={schema} field="login" label="Login" />\n        <TextField schema={schema} field="password" type="password" label="Password" />\n        <TextField schema={schema} field="repeatedPassword" type="password" label="Repeat password" />\n\n        <HFlexBox className="form-footer">\n          <Button type="submit">Submit</Button>\n        </HFlexBox>\n      </form>\n\n      <SchemaInformer schema={schema} noChanged />\n    </>\n  );\n}'},tC={filename:"PresentationSchema.ts",code:"import { FormSchema, presentation, validate } from '@yoskutik/mobx-form-schema';\nimport { observable } from 'mobx';\nimport { required, lengthBetween } from '../Validation/validators';\n\nconst repeatedPassword = () => (repeated: string, schema: PresentationSchema) => {\n  if (repeated === schema.password) return false;\n  return 'Passwords mismatched';\n};\n\nexport class PresentationSchema extends FormSchema {\n  @presentation(value => value?.trim())\n  @observable name = '';\n\n  @validate(required())\n  @observable login = '';\n\n  @validate(required(), lengthBetween(8, 32))\n  @observable password = '';\n\n  @presentation.hidden\n  @validate(required(), repeatedPassword())\n  @observable repeatedPassword = '';\n}"};let tP=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:4}},{children:["Each form schema instance have its ",(0,r.jsx)("i",{children:"presentation"})," - an object that contains only data of form's fields without any utility data or methods. This object can be used as final presentation of your form and send to the server."]})),(0,r.jsxs)(m.Z,Object.assign({component:"p",sx:{mt:2}},{children:["But also ",(0,r.jsx)("b",{children:"you can add a transformation function for each property to transform the presentation"}),". For example, you trim your strings, convert Date instances into formatted strings or just delete some data from the presentation."]}))]}),tT=()=>(0,r.jsxs)(p,Object.assign({title:"Present it!"},{children:[(0,r.jsx)(tP,{}),(0,r.jsx)(O,Object.assign({items:[tC,tR,f.yH,f.Pe]},{children:(0,r.jsx)(tk,{})}))]})),tI=()=>(0,r.jsx)(l.Z,Object.assign({sx:{backgroundColor:"rgba(0,0,0,0.03)"}},{children:(0,r.jsxs)(c.ZP,Object.assign({justifyContent:"center",gap:1,container:!0,sx:{width:"1200px",m:"0 auto",p:2,maxWidth:"100%"}},{children:[(0,r.jsx)("img",{src:"https://img.shields.io/npm/v/@yoskutik/mobx-form-schema",alt:"NPM version"}),(0,r.jsx)("img",{src:"https://img.shields.io/badge/EcmaScript-v.6-blue",alt:"EcmaScript 6"}),(0,r.jsx)("img",{src:"https://raw.githubusercontent.com/Yoskutik/mobx-form-schema/master/badges/weight.svg",alt:"Weight"}),(0,r.jsx)("img",{src:"https://img.shields.io/npm/l/@yoskutik/mobx-form-schema",alt:"License"}),(0,r.jsx)("img",{src:"https://img.shields.io/snyk/vulnerabilities/npm/@yoskutik/mobx-form-schema?label=Vulnerabilities",alt:"Vulnerabilities"}),(0,r.jsx)("img",{src:"https://raw.githubusercontent.com/Yoskutik/mobx-form-schema/master/badges/coverage-jest%20coverage.svg",alt:"Coverage"}),(0,r.jsx)("img",{src:"https://github.com/Yoskutik/mobx-form-schema/actions/workflows/build.yml/badge.svg",alt:"Build"})]}))})),tN=({children:e,sx:t})=>(0,r.jsx)(m.Z,Object.assign({component:"p",sx:Object.assign({fontSize:"1.3rem"},t)},{children:e})),tE=(0,i.memo)(()=>(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(tI,{}),(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(u,Object.assign({style:{height:220,alignItems:"center",padding:"1rem"}},{children:(0,r.jsxs)(l.Z,Object.assign({sx:{textAlign:"center"}},{children:[(0,r.jsx)(m.Z,Object.assign({variant:"h2",component:"h1"},{children:"MobX Form Schema"})),(0,r.jsx)(m.Z,Object.assign({variant:"h5",component:"h2",sx:{mt:2}},{children:"The simple way to organize you forms!"}))]}))})),(0,r.jsx)(u,{children:(0,r.jsxs)(d.Z,Object.assign({sx:{width:"800px",p:4,maxWidth:"95vw"}},{children:[(0,r.jsxs)(tN,{children:["Mobx Form Schema is a small library that can simplify forms developing process by providing a ",(0,r.jsx)("b",{children:"Form Schema"})," concept."]}),(0,r.jsxs)(tN,Object.assign({sx:{mt:2}},{children:["MobX Form Schema gives you a convenient way to describe your form - its ",(0,r.jsx)("b",{children:"validation"}),", "," ",(0,r.jsx)("b",{children:"presentation"}),", ",(0,r.jsx)("b",{children:"initialization"})," and ",(0,r.jsx)("b",{children:"observation"}),"."]})),(0,r.jsx)("hr",{style:{width:"60%",margin:"24px auto"}}),(0,r.jsxs)(tN,{children:["The developing process of forms may be quite repetitive - fields from different forms can have same validation rules; in order to understand whether the form is changed you have to manually check all the properties; etc. And ",(0,r.jsx)("i",{children:"MobX Form Schema"})," ",(0,r.jsx)("b",{children:"can help you with it!"})]}),(0,r.jsxs)(l.Z,Object.assign({sx:{fontSize:"1.3rem",mt:2}},{children:["With ",(0,r.jsx)("i",{children:"MobX Form Schema"})," you can:",(0,r.jsxs)("ul",Object.assign({style:{marginTop:8}},{children:[(0,r.jsx)("li",{children:"simplify your validation;"}),(0,r.jsx)("li",{children:"automate changes observation;"}),(0,r.jsx)("li",{children:"configure form's presentation;"}),(0,r.jsx)("li",{children:"create rules for its initialization."})]}))]}))]}))}),(0,r.jsx)(eM,{}),(0,r.jsx)(ti,{}),(0,r.jsx)(tO,{}),(0,r.jsx)(tT,{})]})]}));var tD=tE}}]);