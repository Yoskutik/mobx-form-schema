import { FormSchema, validate, watch } from '@yoskutik/mobx-form-schema';
import { required } from 'path/to/validators';

const shouldValidateName = (_, schema: SignUpSchema) => (
  schema.wantToFillInTheName
);

class SignUpSchema extends FormSchema {
  @validate(email()).if(email => !!email) // or simply `.if(Boolean)`
  @watch email = '';

  @validate(required()).if(shouldValidateName) // or simply `.if(Boolean)`
  @watch name = '';

  @watch wantToFillInTheName = true;
}