import { FormSchema, factory } from '@yoskutik/mobx-form-schema';

const createFullName = (_: unknown, schema: Schema) =>
  `${schema.name} ${schema.surname}`;

const createName = (name: string) => name.toUpperCase();

export class Schema extends FormSchema {
  @factory(createFullName)
  fullName: string;

  @factory(createName)
  name: string;

  surname: string;
}

const schema = Schema.create({
  name: 'Dmitrii',
  surname: 'Aleksandrovich',
});

console.log(schema.name);     // DMITRII
console.log(schema.surname);  // Aleksandrovich
console.log(schema.fullName); // Dmitrii Aleksandrovich