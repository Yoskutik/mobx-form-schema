import { FormSchema, validate } from '@yoskutik/mobx-form-schema';
import { observable } from 'mobx';

export const required = () => (value) => {
  if (value?.trim()) return false;
  return 'The field is required';
};

export const lengthBetween = (min: number, max: number) => (value: string) => {
  if (value.length >= min && value.length <= max) return false;
  if (value.length < min) return `Should be longer than ${min} characters`;
  return `Should be shorter than ${max} characters`;
};

export class SignUpSchema extends FormSchema {
  @validate(required(), lengthBetween(4, 8))
  @observable pinCode = '';
}